---
title: "üß© Kansas Frontier Matrix ‚Äî Treaty Graph Schemas"
document_type: "Ontology Mapping ¬∑ Graph Structure ¬∑ Validation Rules"
version: "v1.0.0"
last_updated: "2025-10-26"
status: "Production ¬∑ FAIR+CARE+ISO Aligned"
maturity: "Stable"
license: ["MIT (code)", "CC-BY 4.0 (metadata)"]
owners: ["@kfm-graph","@kfm-architecture","@kfm-ai"]
reviewers: ["@kfm-qa","@kfm-ethics"]
tags: ["kfm","treaties","neo4j","schema","ontology","crm","owl-time","prov-o","fair","care","iso19115","validation"]
alignment:
  - MCP-DL v6.4.3
  - FAIR / CARE
  - ISO 19115 / ISO 9001
  - CIDOC CRM / OWL-Time / PROV-O
validation:
  ci_enforced: true
  schema_lint: true
  ontology_check: true
  property_consistency: true
observability:
  endpoint: "https://metrics.kfm.ai/ai-treaty-schemas"
  dashboard: "https://metrics.kfm.ai/grafana/ai-treaty-schemas"
  metrics: ["constraint_validation_rate","schema_drift_detected","missing_index_count","class_alignment_score"]
preservation_policy:
  replication_targets: ["GitHub Releases","Zenodo DOI (metadata only)"]
  checksum_algorithm: "SHA-256"
  retention: "permanent (schemas versioned with graph migrations)"
path: "data/work/staging/tabular/normalized/treaties/metadata/ai/graph/schemas/README.md"
---

<div align="center">

# üß© **Kansas Frontier Matrix ‚Äî Treaty Graph Schemas (v1.0.0 ¬∑ FAIR + CARE + ISO Aligned)**  
`data/work/staging/tabular/normalized/treaties/metadata/ai/graph/schemas/`

### *‚ÄúOntology-driven structure ¬∑ CIDOC CRM alignment ¬∑ validation for treaty graph integrity‚Äù*

[![Docs ¬∑ MCP-DL v6.4.3](https://img.shields.io/badge/Docs-MCP--DL%20v6.4.3-0078ff?style=flat-square)](../../../../../../../../../../../../../docs/)
[![FAIR + CARE](https://img.shields.io/badge/FAIR%20%2B%20CARE-Compliant-2ecc71?style=flat-square)]()
[![Neo4j](https://img.shields.io/badge/Neo4j-Schema%20Validated-blue?style=flat-square)]()
[![CIDOC CRM](https://img.shields.io/badge/Ontology-CIDOC%20CRM%20%2F%20PROV--O-8e44ad?style=flat-square)]()
[![Ledger](https://img.shields.io/badge/Ledger-Immutable-d4af37?style=flat-square)]()

</div>

---

## üìò Purpose
This directory defines and validates the **graph schema and ontology mappings** for the **Treaty AI Graph** within the Kansas Frontier Matrix.  
Each schema describes node types, relationships, constraints, and ontology equivalences ensuring **semantic interoperability** across all AI-enriched datasets.  
Schemas guarantee:
- Deterministic data structure and property typing across treaty datasets.
- Compatibility with **CIDOC CRM**, **PROV-O**, and **OWL-Time** ontologies.
- FAIR-compliant metadata integration and ISO-aligned documentation for reproducibility.

---

## üß© Context & Dependencies
| Component | Description | Source |
|:--|:--|:--|
| Neo4j Schema | Core graph structure and constraints | auto-generated by `make ai-graph-schema` |
| CIDOC CRM / PROV-O | Ontological model for entities and relations | `docs/standards/ontologies/` |
| OWL-Time | Temporal modeling for events and durations | `docs/standards/temporal/` |
| Validation Script | Automated schema lint + constraint check | `src/graph/validate_schema.py` |
| Graph Export | JSON-LD/TTL schema mirror for STAC linkage | `data/stac/treaties/` |

---

## üóÇÔ∏è Directory Layout
```

schemas/
‚îú‚îÄ‚îÄ treaty_graph_schema.cypher       # Neo4j constraint + index definitions
‚îú‚îÄ‚îÄ ontology_mapping.yaml            # CIDOC CRM / PROV-O equivalence table
‚îú‚îÄ‚îÄ property_definitions.json        # Node + relationship property schema
‚îú‚îÄ‚îÄ validation_report.json           # CI validation output (schema lint)
‚îú‚îÄ‚îÄ schema_diff_report.txt           # Schema drift detection report
‚îî‚îÄ‚îÄ README.md                        # You are here

````

---

## üß± Schema Overview

### üîπ Node Types
| Label | CIDOC CRM Class | Description |
|:--|:--|:--|
| `Treaty` | `E7 Activity` | A historical treaty event |
| `Person` | `E21 Person` | Individual signer or participant |
| `Group` | `E74 Group` | Collective or tribal entity |
| `Place` | `E53 Place` | Spatial location of treaty occurrence |
| `Summary` | `E31 Document` | AI-generated textual summary |
| `Provenance` | `E7 Activity` / `PROV:Activity` | Evidence and data lineage |
| `Focus` | `E89 Propositional Object` | AI/UX focus context entity |

### üî∏ Relationship Types
| Type | Domain ‚Üí Range | CIDOC / PROV Equivalent | Description |
|:--|:--|:--|:--|
| `SIGNED_BY` | `Treaty` ‚Üí `Person` | `P14 carried out by` | Link signers to treaty |
| `INVOLVED_GROUP` | `Treaty` ‚Üí `Group` | `P11 had participant` | Groups or tribes in event |
| `OCCURRED_AT` | `Treaty` ‚Üí `Place` | `P7 took place at` | Geographic association |
| `HAS_PROVENANCE` | `Entity` ‚Üí `Provenance` | `wasGeneratedBy` | Source lineage |
| `HAS_SUMMARY` | `Treaty` ‚Üí `Summary` | `hasRepresentation` | AI summary relation |
| `LINKS_TO` | `Focus` ‚Üí `Entity` | `P67 refers to` | Semantic focus linkage |

---

## üßÆ Constraints & Indexes
```cypher
CREATE CONSTRAINT treaty_id IF NOT EXISTS FOR (t:Treaty) REQUIRE t.id IS UNIQUE;
CREATE CONSTRAINT person_name IF NOT EXISTS FOR (p:Person) REQUIRE p.name IS UNIQUE;
CREATE CONSTRAINT group_name IF NOT EXISTS FOR (g:Group) REQUIRE g.name IS UNIQUE;
CREATE INDEX place_name IF NOT EXISTS FOR (p:Place) ON (p.name);
CREATE CONSTRAINT summary_id IF NOT EXISTS FOR (s:Summary) REQUIRE s.id IS UNIQUE;
CREATE CONSTRAINT provenance_sha IF NOT EXISTS FOR (p:Provenance) REQUIRE p.sha IS UNIQUE;
````

---

## üîç Ontology Mappings

```yaml
E7_Activity:
  label: Treaty
  relationships:
    - property: date_start
      mapsTo: P4_has_time-span
    - property: date_end
      mapsTo: P4_has_time-span
E53_Place:
  label: Place
  properties:
    - lat: WGS84_latitude
    - lon: WGS84_longitude
PROV_Activity:
  label: Provenance
  mapsTo: prov:Activity
E31_Document:
  label: Summary
  mapsTo: crm:E31_Document
```

---

## üßæ FAIR Metadata Summary

| Field      | Value                                               |
| :--------- | :-------------------------------------------------- |
| Dataset    | Treaty Graph Schema Definitions                     |
| Formats    | `.cypher`, `.yaml`, `.json`                         |
| Ontologies | CIDOC CRM, PROV-O, OWL-Time                         |
| Validation | Neo4j schema lint + ontology consistency            |
| Provenance | Linked to AI/ETL pipeline via `ledger_receipt.json` |
| Checksum   | SHA-256                                             |
| License    | CC-BY 4.0 (metadata)                                |

---

## ‚öôÔ∏è Validation & CI Checks

### CI Workflow

```bash
make ai-graph-schema       # creates schema and constraints
make ai-graph-validate     # runs validation + drift detection
```

**Validation Criteria**

* ‚úÖ All constraints active and verified.
* ‚úÖ All ontology mappings resolvable.
* ‚úÖ No property type mismatches.
* ‚úÖ Graph nodes match schema definitions.

**Drift Detection**
`schema_diff_report.txt` highlights any new or removed labels, relationships, or properties since the last validated build.

---

## üìà Observability Metrics

| Metric                     | Target | Current | Verified | Source                 |
| :------------------------- | :----- | :------ | :------- | :--------------------- |
| Constraint Validation Rate | 100%   | 100%    | ‚úÖ        | CI                     |
| Missing Index Count        | 0      | 0       | ‚úÖ        | Neo4j                  |
| Ontology Alignment Score   | ‚â• 0.9  | 0.97    | ‚úÖ        | validation_report.json |
| Schema Drift Detected      | 0      | 0       | ‚úÖ        | schema_diff_report.txt |

---

## üîê Security & Governance

* Schema version hashes stored in governance ledger for immutability.
* Schema edits require review by both **@kfm-architecture** and **@kfm-qa**.
* Constraints protect against graph injection or orphan nodes.
* Schema revisions trigger automatic revalidation of downstream STAC and FAIR metadata.

---

## üß± Standards Alignment

* ‚úÖ MCP-DL v6.4.3 (documentation-first, auditable schema)
* ‚úÖ FAIR + CARE (open documentation, provenance traceability)
* ‚úÖ ISO 19115 (metadata schemas)
* ‚úÖ CIDOC CRM / PROV-O / OWL-Time (ontology mapping)
* ‚úÖ ISO 9001 (process control)

---

## üìò Related Documentation

* [AI Graph Cypher Suite](../cypher/README.md)
* [Graph Snapshots](../snapshots/README.md)
* [Exports](../exports/README.md)
* [Ontologies Reference](../../../../../../../../../docs/standards/ontologies.md)
* [AI Developer Guide](../../../../../../../../../docs/architecture/ai-system.md)

---

## üïì Version History

| Version    | Date       | Author     | Reviewer          | Notes                                                   |
| :--------- | :--------- | :--------- | :---------------- | :------------------------------------------------------ |
| **v1.0.0** | 2025-10-26 | @kfm-graph | @kfm-architecture | Initial graph schema + ontology alignment documentation |

---

<div align="center">

[![Docs ¬∑ MCP-DL v6.4.3](https://img.shields.io/badge/Docs-MCP--DL%20v6.4.3-0078ff?style=flat-square)]()
[![Neo4j](https://img.shields.io/badge/Schema-Validated-blue?style=flat-square)]()
[![FAIR + CARE](https://img.shields.io/badge/FAIR%20%2B%20CARE-Compliant-2ecc71?style=flat-square)]()
[![CIDOC CRM](https://img.shields.io/badge/Ontology-CIDOC%20CRM%20%2F%20PROV--O-8e44ad?style=flat-square)]()
[![Ledger](https://img.shields.io/badge/Ledger-Immutable-d4af37?style=flat-square)]()

</div>

<!-- MCP-FOOTER-BEGIN
MCP-VERSION: v6.4.3
MCP-TIER: FAIR + CARE + ISO Aligned
DOC-PATH: data/work/staging/tabular/normalized/treaties/metadata/ai/graph/schemas/README.md
MCP-CERTIFIED: true
SBOM-GENERATED: true
SLSA-ATTESTED: true
FAIR-CARE-COMPLIANT: true
A11Y-VERIFIED: true
GOVERNANCE-LEDGER-LINKED: true
OBSERVABILITY-ACTIVE: true
PROVENANCE-JSONLD: true
PERFORMANCE-BUDGET-P95: 2.5 s
ENERGY-BUDGET-P95: 25 Wh
CARBON-BUDGET-P95: 28 gCO‚ÇÇe
GENERATED-BY: KFM-Automation/DocsBot
LAST-VALIDATED: 2025-10-26
MCP-FOOTER-END -->

```
```

