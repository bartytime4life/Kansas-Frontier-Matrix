<?xml version="1.0" encoding="UTF-8"?>
<kml
  xmlns="http://www.opengis.net/kml/2.2"
  xmlns:gx="http://www.google.com/kml/ext/2.2"
  xmlns:atom="http://www.w3.org/2005/Atom">

  <Document>
    <name>Kansas 1 m Hillshade (2018–2020)</name>
    <open>1</open>

    <!-- Discoverability / provenance -->
    <atom:author>
      <atom:name>Kansas Frontier Matrix</atom:name>
    </atom:author>

    <!-- If hosting on GitHub Pages, replace with your public site URL -->
    <!-- Example: https://bartytime4life.github.io/Kansas-Frontier-Matrix/ -->
    <atom:link rel="related" href="https://YOUR-PAGES-DOMAIN/"/>

    <!-- Optional: brief description in Places panel -->
    <Snippet maxLines="2">USGS 3DEP-derived hillshade (1 m). Loads progressively via SuperOverlay.</Snippet>

    <!-- Helpful folder-style icon (purely cosmetic) -->
    <Style id="folder-style">
      <ListStyle>
        <listItemType>checkHideChildren</listItemType>
        <bgColor>00ffffff</bgColor>
        <ItemIcon>
          <state>open</state>
          <href>http://maps.google.com/mapfiles/kml/shapes/earthquake.png</href>
        </ItemIcon>
      </ListStyle>
    </Style>

    <NetworkLink id="ks_1m_hillshade_link">
      <name>Hillshade SuperOverlay</name>
      <open>1</open>
      <gx:flyToView>1</gx:flyToView>
      <styleUrl>#folder-style</styleUrl>

      <!-- Guard region (Kansas extent) prevents off-bounds tile requests -->
      <Region>
        <LatLonAltBox>
          <!-- Use the same bounds you used to generate tiles -->
          <north>40.0000</north>
          <south>36.9900</south>
          <east>-94.6000</east>
          <west>-102.0500</west>
          <minAltitude>0</minAltitude>
          <maxAltitude>0</maxAltitude>
        </LatLonAltBox>
        <Lod>
          <!-- 64px ensures we’re not loading when link is tiny on screen -->
          <minLodPixels>64</minLodPixels>
          <maxLodPixels>-1</maxLodPixels>
          <!-- small hysteresis -->
          <minFadeExtent>16</minFadeExtent>
          <maxFadeExtent>64</maxFadeExtent>
        </Lod>
      </Region>

      <!-- Default camera -->
      <LookAt>
        <longitude>-98.3000</longitude>
        <latitude>38.5000</latitude>
        <altitude>0</altitude>
        <heading>0</heading>
        <tilt>0</tilt>
        <range>900000</range>
        <altitudeMode>clampToGround</altitudeMode>
      </LookAt>

      <Link>
        <!-- If packaged inside a parent KMZ (recommended):
             parent.kmz/
               ├─ doc.kml
               └─ networklinks/ks_1m_hillshade.kml  (this file)
                  └─ references → overlays/ks_hillshade_2018_2020.kmz -->
        <href>../overlays/ks_hillshade_2018_2020.kmz</href>

        <!-- If hosting tiles externally, comment the relative href above and use absolute URL below
             (keep only ONE <href> tag):
        <href>https://YOUR-PAGES-DOMAIN/data/kml/ks_hillshade_2018_2020.kmz</href>
        -->

        <!-- SuperOverlay regions in the KMZ control loading; we still guard with onRegion -->
        <viewRefreshMode>onRegion</viewRefreshMode>

        <!-- Hysteresis: reduce request thrash during camera drags -->
        <viewRefreshTime>1</viewRefreshTime>

        <!-- Prefetch beyond bounds to reduce edge pop-in -->
        <viewBoundScale>1.2</viewBoundScale>

        <!-- (Optional) If your tile server needs BBOX params, add viewFormat;
             SuperOverlay KMZs typically do NOT need this, so leaving empty. -->
        <viewFormat/>
      </Link>
    </NetworkLink>

    <!-- Optional: embed lightweight provenance for humans (ignored by GE renderer) -->
    <ExtendedData>
      <Data name="stac_item">
        <value>stac/items/dem/ks_1m_dem_2018_2020.json</value>
      </Data>
      <Data name="source">
        <value>USGS 3DEP (2018–2020), processed to hillshade</value>
      </Data>
    </ExtendedData>

  </Document>
</kml>