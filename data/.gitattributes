# ===============================
# Repo-wide canonical text rules
# ===============================
*                         text=auto eol=lf

# Source & config (always text)
*.md                      text diff=markdown
*.txt                     text
*.json                    text
*.geojson                 text
*.topojson                text
*.yml                     text
*.yaml                    text
*.xml                     text
*.kml                     text
*.csv                     text
*.tsv                     text
*.ndjson                  text
*.vrt                     text         # GDAL VRT is XML (diffable)
.gitattributes            text eol=lf
.editorconfig             text eol=lf

# Code (always text)
*.py                      text diff=python
*.js                      text diff=javascript
*.ts                      text
*.css                     text
*.html                    text
*.sh                      text eol=lf
*.sql                     text
*.R                       text
*.ipynb                   text          linguist-language=JSON

# =======================================
# Geospatial & scientific binaries â†’ LFS
# (prevent line-ending mangling, merge)
# =======================================

# Core rasters / COGs
*.tif                     filter=lfs diff=lfs merge=lfs -text
*.tiff                    filter=lfs diff=lfs merge=lfs -text
*.geotiff                 filter=lfs diff=lfs merge=lfs -text
*.img                     filter=lfs diff=lfs merge=lfs -text
*.jp2                     filter=lfs diff=lfs merge=lfs -text
*.bil                     filter=lfs diff=lfs merge=lfs -text
*.bsq                     filter=lfs diff=lfs merge=lfs -text
*.bip                     filter=lfs diff=lfs merge=lfs -text

# Raster tiles / bundles
*.mbtiles                 filter=lfs diff=lfs merge=lfs -text
*.pmtiles                 filter=lfs diff=lfs merge=lfs -text
*.kmz                     filter=lfs diff=lfs merge=lfs -text
*.pbf                     filter=lfs diff=lfs merge=lfs -text   # vector tiles

# Vector bundles / containers
*.gpkg                    filter=lfs diff=lfs merge=lfs -text
*.fgb                     filter=lfs diff=lfs merge=lfs -text   # FlatGeobuf
*.parquet                 filter=lfs diff=lfs merge=lfs -text
*.feather                 filter=lfs diff=lfs merge=lfs -text

# Shapefile family (recommend zipping as one blob; still safe here)
*.shp                     filter=lfs diff=lfs merge=lfs -text
*.shx                     filter=lfs diff=lfs merge=lfs -text
*.dbf                     filter=lfs diff=lfs merge=lfs -text
*.sbn                     filter=lfs diff=lfs merge=lfs -text
*.sbx                     filter=lfs diff=lfs merge=lfs -text
*.qix                     filter=lfs diff=lfs merge=lfs -text
*.fix                     filter=lfs diff=lfs merge=lfs -text
*.aih                     filter=lfs diff=lfs merge=lfs -text
*.ain                     filter=lfs diff=lfs merge=lfs -text
# Tiny sidecars kept as text for diffability:
*.prj                     text
*.qpj                     text
*.cpg                     text

# Point clouds / sonar / scientific grids
*.las                     filter=lfs diff=lfs merge=lfs -text
*.laz                     filter=lfs diff=lfs merge=lfs -text
*.bag                     filter=lfs diff=lfs merge=lfs -text
*.h5                      filter=lfs diff=lfs merge=lfs -text
*.hdf5                    filter=lfs diff=lfs merge=lfs -text
*.nc                      filter=lfs diff=lfs merge=lfs -text   # NetCDF
*.grd                     filter=lfs diff=lfs merge=lfs -text
*.tiledb                  filter=lfs diff=lfs merge=lfs -text

# Archives (raw acquisitions, packaged tiles, etc.)
*.zip                     filter=lfs diff=lfs merge=lfs -text
*.7z                      filter=lfs diff=lfs merge=lfs -text
*.tar                     filter=lfs diff=lfs merge=lfs -text
*.tar.gz                  filter=lfs diff=lfs merge=lfs -text

# Large imagery / assets (prefer LFS to avoid repo bloat)
*.png                     filter=lfs diff=lfs merge=lfs -text
*.jpg                     filter=lfs diff=lfs merge=lfs -text
*.jpeg                    filter=lfs diff=lfs merge=lfs -text
*.tga                     filter=lfs diff=lfs merge=lfs -text
*.webp                    filter=lfs diff=lfs merge=lfs -text
*.gif                     filter=lfs diff=lfs merge=lfs -text
*.svgz                    filter=lfs diff=lfs merge=lfs -text

# Documents & fonts (opaque binaries)
*.pdf                     filter=lfs diff=lfs merge=lfs -text
*.ai                      filter=lfs diff=lfs merge=lfs -text
*.psd                     filter=lfs diff=lfs merge=lfs -text
*.ttf                     filter=lfs diff=lfs merge=lfs -text
*.otf                     filter=lfs diff=lfs merge=lfs -text
*.woff                    filter=lfs diff=lfs merge=lfs -text
*.woff2                   filter=lfs diff=lfs merge=lfs -text

# GDAL/OGR sidecars
*.aux.xml                 text           # small, human-inspectable
*.ovr                     filter=lfs diff=lfs merge=lfs -text    # can be huge/binary
*.idx                     filter=lfs diff=lfs merge=lfs -text
*.rrd                     filter=lfs diff=lfs merge=lfs -text
*.tfw                     text
*.wld                     text
*.worldfile               text

# ====================================
# Path-focused safety rails for data/
# ====================================
data/raw/**                      filter=lfs diff=lfs merge=lfs -text
data/cogs/**                     filter=lfs diff=lfs merge=lfs -text
data/derivatives/**              filter=lfs diff=lfs merge=lfs -text
data/earth/**/overlays/**        filter=lfs diff=lfs merge=lfs -text

# Preserve text metadata & descriptors inside data/** even with rails above
data/**/**/*.meta.json           text
data/**/**/_meta.json            text
data/**/**/*.sha256              text
data/**/**/*.stac.json           text
data/**/**/*.json                text
data/**/**/*.csv                 text
data/**/**/*.tsv                 text
data/**/**/*.yml                 text
data/**/**/*.yaml                text
data/**/**/*.md                  text
data/**/**/*.kml                 text
data/**/**/*.geojson             text
data/**/**/*.topojson            text

# ============================
# Optional: Linguist hints
# ============================
docs/**                           linguist-documentation
web/**                            linguist-documentation
assets/**                         linguist-vendored
dist/**                           linguist-generated
