<div align="center">

# üßæ Kansas Frontier Matrix ‚Äî Tabular Checksums  
`data/processed/tabular/checksums/`

**Mission:** Guarantee **data integrity, reproducibility, and provenance**  
for all processed tabular datasets ‚Äî historical census, agricultural, and economic series ‚Äî  
by maintaining verified SHA-256 checksums under continuous integration validation.

[![Build & Deploy](https://github.com/bartytime4life/Kansas-Frontier-Matrix/actions/workflows/site.yml/badge.svg)](../../../../../.github/workflows/site.yml)
[![STAC Validate](https://github.com/bartytime4life/Kansas-Frontier-Matrix/actions/workflows/stac-validate.yml/badge.svg)](../../../../../.github/workflows/stac-validate.yml)
[![CodeQL](https://github.com/bartytime4life/Kansas-Frontier-Matrix/actions/workflows/codeql.yml/badge.svg)](../../../../../.github/workflows/codeql.yml)
[![Trivy Security](https://github.com/bartytime4life/Kansas-Frontier-Matrix/actions/workflows/trivy.yml/badge.svg)](../../../../../.github/workflows/trivy.yml)
[![Docs ¬∑ MCP](https://img.shields.io/badge/Docs-MCP-blue)](../../../../../docs/)
[![License: Data](https://img.shields.io/badge/License-CC--BY%204.0-green)](../../../../../LICENSE)

</div>

---

## üìö Overview

This directory contains **SHA-256 checksum files (`.sha256`)**  
for all processed **tabular datasets** in the Kansas Frontier Matrix (KFM).  

Checksums provide immutable cryptographic fingerprints used to:

- üîí **Verify data integrity** ‚Äî prevent silent corruption or tampering.  
- üîÅ **Reproduce exact outputs** ‚Äî validate consistent ETL results across systems.  
- üß© **Maintain provenance** ‚Äî bind datasets to their metadata and STAC records.  
- ‚öôÔ∏è **Enable CI enforcement** ‚Äî automated validation before deployment.  

All hashes are generated by the **tabular ETL pipeline** (`make tabular`)  
and checked in every **GitHub Actions** build.

---

## üß≠ System Flow (Mermaid)

```mermaid
flowchart TD
  A["Processed Tabular Files\n(data/processed/tabular/*.csv|*.parquet)"] --> B["Checksum Generator\n(src/utils/generate_checksums.py)"]
  B --> C["SHA-256 Files\n(data/processed/tabular/checksums/*.sha256)"]
  C --> D["Metadata Linkage\n(data/processed/tabular/metadata/*.json)"]
  D --> E["CI Validation\n(.github/workflows/stac-validate.yml)"]
  E --> F["Verified STAC Catalog\n(data/stac/tabular/)"]
  %% END OF MERMAID
````

---

## üóÇÔ∏è Directory Layout

```bash
data/processed/tabular/checksums/
‚îú‚îÄ‚îÄ README.md
‚îú‚îÄ‚îÄ census_population_1860_2020.parquet.sha256
‚îú‚îÄ‚îÄ agricultural_production_1870_2020.parquet.sha256
‚îî‚îÄ‚îÄ economic_indicators_1900_2025.parquet.sha256
```

> **Note:**
> Each `.sha256` corresponds to a dataset in `data/processed/tabular/`
> and is re-validated automatically in CI/CD workflows.

---

## üîê Purpose of Checksums

| Objective            | Description                                                |
| :------------------- | :--------------------------------------------------------- |
| **Data Integrity**   | Detects file corruption or unauthorized modification.      |
| **Reproducibility**  | Confirms identical ETL outputs across environments.        |
| **Provenance Chain** | Links datasets with metadata, checksums, and STAC records. |
| **Automation in CI** | Workflows fail automatically on mismatched hashes.         |

---

## üßÆ Example `.sha256` File

```bash
# File: census_population_1860_2020.parquet.sha256
ca03d2fb389314a0ee43525a0eac0b422518a329c8a6f4c482c6c0a12cbb6aa7  census_population_1860_2020.parquet
```

This verifies the integrity of
`data/processed/tabular/census_population_1860_2020.parquet`.

---

## ‚öôÔ∏è Checksum Generation Workflow

Checksums are created automatically or regenerated manually.

**Makefile target**

```bash
make tabular-checksums
```

**Python command**

```bash
python src/utils/generate_checksums.py data/processed/tabular/ --algo sha256
```

**Steps**

1. Locate processed tabular files (`.csv`, `.parquet`, `.json`).
2. Compute SHA-256 hash using `hashlib`.
3. Save `<filename>.sha256` here.
4. Validate in CI/CD builds after ETL completion.

---

## üß∞ CI/CD Validation

Validation occurs via GitHub Actions workflows.

**Example**

```bash
sha256sum -c data/processed/tabular/checksums/*.sha256
```

A single mismatch fails the build, preventing propagation of unverified data to STAC or production.

---

## üîó Integration with Metadata & STAC

| Linked Component                            | Purpose                                                      |
| :------------------------------------------ | :----------------------------------------------------------- |
| `data/processed/tabular/metadata/`          | STAC metadata JSON references checksum assets                |
| `src/pipelines/tabular/tabular_pipeline.py` | Generates and verifies hashes during ETL                     |
| `.github/workflows/stac-validate.yml`       | Automates checksum and STAC validation                       |
| `data/stac/tabular/`                        | STAC items embed checksum references for provenance tracking |

---

## ü§ñ AI & Automation Integration

* **Anomaly Detection:** AI monitors for hash drift or dataset size anomalies across versions.
* **Predictive Provenance:** Machine logic maps unexpected deltas to upstream data or code commits.
* **Self-Healing:** When differences are verified as legitimate updates, new checksums are generated
  and appended with provenance deltas in `data/audit/tabular/`.
* **Human Oversight:** Integrity reports require curator approval prior to merge.

---

## üß† MCP Compliance Summary

| MCP Principle           | Implementation                                   |
| :---------------------- | :----------------------------------------------- |
| **Documentation-first** | README + `.sha256` per dataset                   |
| **Reproducibility**     | Deterministic ETL pipeline + checksum validation |
| **Open Standards**      | SHA-256 (FIPS-180-4) cryptographic algorithm     |
| **Provenance**          | Hashes embedded in STAC and metadata lineage     |
| **Auditability**        | CI logs + automated re-validation in every build |

---

## üßæ Version History

| Version   | Date       | Summary                                                                                  |
| :-------- | :--------- | :--------------------------------------------------------------------------------------- |
| **1.1.0** | 2025-10-11 | Added front-matter, Mermaid flow, AI anomaly detection section, and MCP compliance table |
| 1.0.0     | 2025-10-04 | Initial release ‚Äî checksums for population, agriculture, and economic datasets.          |

---

<div align="center">

**Kansas Frontier Matrix** ‚Äî *‚ÄúIntegrity in Every Record: Verifying Data Through Time.‚Äù*
üìç [`data/processed/tabular/checksums/`](.) ¬∑ Linked to the **Tabular STAC Collection**

</div>
```
