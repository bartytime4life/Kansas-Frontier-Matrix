/* ------------------------------------------------------------------
   Kansas Frontier Matrix â€” Theme: Light
   File: web/styles/theme-light.css
   Purpose: Dedicated light theme tokens & semantic color ramps.
   Usage:
     1) Load after base.css
     2) Apply `.theme-light` on <html> or <body> (recommended),
        or rely on prefers-color-scheme: light.
   ------------------------------------------------------------------ */

/* A) Global light defaults (prefers-color-scheme) */
@media (prefers-color-scheme: light) {
  :root {
    /* Neutrals */
    --color-bg: #ffffff;
    --color-surface: #f7f9fb;
    --color-elev-1: #ffffff;
    --color-elev-2: #f3f5f8;

    --color-fg: #121417;
    --color-fg-muted: #5f6b7a;
    --color-border: #d9e1ea;

    /* Accents */
    --color-accent: #006eff;       /* primary blue */
    --color-accent-contrast: #ffffff;
    --color-accent-alt: #b243b1;   /* magenta secondary */
    --color-accent-alt-contrast: #ffffff;

    /* Status / qualitative */
    --color-ok: #2ebf91;
    --color-warn: #d94b4a;
    --color-info: #2d7ff9;

    /* Shadows */
    --shadow-sm: 0 1px 2px rgba(16, 24, 40, 0.06);
    --shadow-md: 0 2px 8px rgba(16, 24, 40, 0.10);
    --shadow-lg: 0 8px 24px rgba(16, 24, 40, 0.12);

    /* Typography */
    --font-body: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
    --font-heading: "Zilla Slab", Georgia, serif;
    --font-mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;

    /* Sizing */
    --base-font-size: 16px;
    --line-height: 1.5;
    --radius: 10px;

    /* Component surfaces */
    --sidebar-bg: var(--color-elev-1);
    --timeline-bg: var(--color-elev-1);
    --popup-bg: var(--color-elev-1);
    --control-bg: var(--color-elev-1);

    /* Link states */
    --link: var(--color-accent);
    --link-hover: #0052bf;
    --link-visited: #5b3fd6;

    /* Focus ring */
    --focus-ring: 0 0 0 3px rgba(0, 110, 255, 0.35);

    /* Map water / land fallbacks (behind tiles) */
    --map-water: #e6f1ff;
    --map-land: #f7f9fb;

    /* -------- Semantic ramps for Kansas layers -------- */
    /* Hydrology (rivers, wetlands, flood extents) */
    --hydro-100: #e6f0ff;
    --hydro-200: #cde0ff;
    --hydro-300: #9fc3ff;
    --hydro-400: #73a6ff;
    --hydro-500: #3a86ff; /* primary */
    --hydro-600: #2f6cd1;
    --hydro-700: #2453a3;

    /* Terrain / elevation fills (light-to-dark) */
    --terrain-100: #f7f3ea;
    --terrain-200: #efe6d6;
    --terrain-300: #e3d2b5;
    --terrain-400: #d6bd93;
    --terrain-500: #c9a56f;
    --terrain-600: #b4894c;
    --terrain-700: #9c6f36;

    /* Land cover / prairie emphasis */
    --veg-100: #eef8ef;
    --veg-200: #d6f0da;
    --veg-300: #bce7c4;
    --veg-400: #9ddcab;
    --veg-500: #7acf90;
    --veg-600: #4ebd6f;
    --veg-700: #2f9952;

    /* Treaties / boundaries (historic) */
    --treaty-fill: #ffd78a;
    --treaty-stroke: #cc8a00;

    /* Rail & trails */
    --rail-line: #4d4d4d;
    --trail-line: #9c4f00;

    /* Hazards */
    --hazard-flood: #4aa3ff;
    --hazard-drought: #e9a03b;
    --hazard-wildfire: #e2583e;
    --hazard-tornado: #8a2be2;

    /* Opacities for layering */
    --op-weak: 0.25;
    --op-mid: 0.5;
    --op-strong: 0.8;
  }
}

/* B) Explicit class hook (preferred for deterministic theming) */
.theme-light {
  color-scheme: light;

  /* Map base */
  --color-bg: #ffffff;
  --color-surface: #f7f9fb;
  --color-elev-1: #ffffff;
  --color-elev-2: #f3f5f8;

  --color-fg: #121417;
  --color-fg-muted: #5f6b7a;
  --color-border: #d9e1ea;

  /* Accents */
  --color-accent: #006eff;
  --color-accent-contrast: #ffffff;
  --color-accent-alt: #b243b1;
  --color-accent-alt-contrast: #ffffff;

  /* Status */
  --color-ok: #2ebf91;
  --color-warn: #d94b4a;
  --color-info: #2d7ff9;

  /* Shadows */
  --shadow-sm: 0 1px 2px rgba(16, 24, 40, 0.06);
  --shadow-md: 0 2px 8px rgba(16, 24, 40, 0.10);
  --shadow-lg: 0 8px 24px rgba(16, 24, 40, 0.12);

  /* Typography */
  --font-body: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
  --font-heading: "Zilla Slab", Georgia, serif;
  --font-mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;

  /* Sizing */
  --base-font-size: 16px;
  --line-height: 1.5;
  --radius: 10px;

  /* Components */
  --sidebar-bg: var(--color-elev-1);
  --timeline-bg: var(--color-elev-1);
  --popup-bg: var(--color-elev-1);
  --control-bg: var(--color-elev-1);

  /* Links */
  --link: var(--color-accent);
  --link-hover: #0052bf;
  --link-visited: #5b3fd6;

  /* Focus */
  --focus-ring: 0 0 0 3px rgba(0, 110, 255, 0.35);

  /* Map fallback swatches */
  --map-water: #e6f1ff;
  --map-land: #f7f9fb;

  /* Semantic ramps (duplicate to ensure presence on class scope) */
  --hydro-100: #e6f0ff;
  --hydro-200: #cde0ff;
  --hydro-300: #9fc3ff;
  --hydro-400: #73a6ff;
  --hydro-500: #3a86ff;
  --hydro-600: #2f6cd1;
  --hydro-700: #2453a3;

  --terrain-100: #f7f3ea;
  --terrain-200: #efe6d6;
  --terrain-300: #e3d2b5;
  --terrain-400: #d6bd93;
  --terrain-500: #c9a56f;
  --terrain-600: #b4894c;
  --terrain-700: #9c6f36;

  --veg-100: #eef8ef;
  --veg-200: #d6f0da;
  --veg-300: #bce7c4;
  --veg-400: #9ddcab;
  --veg-500: #7acf90;
  --veg-600: #4ebd6f;
  --veg-700: #2f9952;

  --treaty-fill: #ffd78a;
  --treaty-stroke: #cc8a00;

  --rail-line: #4d4d4d;
  --trail-line: #9c4f00;

  --hazard-flood: #4aa3ff;
  --hazard-drought: #e9a03b;
  --hazard-wildfire: #e2583e;
  --hazard-tornado: #8a2be2;

  --op-weak: 0.25;
  --op-mid: 0.5;
  --op-strong: 0.8;
}

/* C) Token applications to common elements */
.theme-light,
@media (prefers-color-scheme: light) {
  body {
    background: var(--color-bg);
    color: var(--color-fg);
  }

  .sidebar { background: var(--sidebar-bg); border-right: 1px solid var(--color-border); }
  .timeline { background: var(--timeline-bg); border-top: 1px solid var(--color-border); }

  a { color: var(--link); }
  a:hover { color: var(--link-hover); }
  a:visited { color: var(--link-visited); }

  button,
  .btn {
    background: var(--control-bg);
    color: var(--color-fg);
    border: 1px solid var(--color-border);
    border-radius: var(--radius);
    box-shadow: var(--shadow-sm);
  }
  button:hover,
  .btn:hover { box-shadow: var(--shadow-md); }

  /* Focus ring for accessibility */
  :where(button, a, input, select, textarea, [tabindex]):focus {
    outline: none;
    box-shadow: var(--focus-ring);
  }

  /* Map fallbacks */
  #map { background: linear-gradient(180deg, var(--map-water), var(--map-land)); }
}

/* D) Utility swatches for legends (optional helpers) */
.swatch-hydro   { background: var(--hydro-500); border: 1px solid var(--color-border); }
.swatch-terrain { background: var(--terrain-400); border: 1px solid var(--color-border); }
.swatch-veg     { background: var(--veg-500); border: 1px solid var(--color-border); }
.swatch-treaty  { background: var(--treaty-fill); border: 1px solid var(--treaty-stroke); }
.swatch-rail    { background: var(--rail-line); }
.swatch-trail   { background: var(--trail-line); }

.badge-flood    { background: color-mix(in srgb, var(--hazard-flood), #ffffff 15%); color: #0b2a4d; }
.badge-drought  { background: color-mix(in srgb, var(--hazard-drought), #ffffff 15%); color: #5a3c10; }
.badge-wildfire { background: color-mix(in srgb, var(--hazard-wildfire), #ffffff 15%); color: #5c2016; }
.badge-tornado  { background: color-mix(in srgb, var(--hazard-tornado), #ffffff 15%); color: #351f60; }

/* E) Optional subtle card style */
.card {
  background: var(--color-elev-1);
  border: 1px solid var(--color-border);
  border-radius: var(--radius);
  box-shadow: var(--shadow-sm);
}
