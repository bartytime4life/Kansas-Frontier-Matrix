{
  "id": "tornado_tracks",
  "title": "Tornado Tracks (SPC 1950–present)",
  "type": "vector",
  "data": "web/data/tornado_tracks_ks.json",
  "category": "hazards",

  "time": { "start": "1950-01-01", "end": null },
  "timeMapping": {
    "start": "time_start",
    "end": "time_end",
    "fallbackStart": "date"
  },

  "idProperty": "id",
  "interactive": true,
  "visible": false,

  "minzoom": 4,
  "maxzoom": 19,
  "opacity": 1.0,
  "zIndex": 50,

  "popup": [
    "date",
    "scale",
    "magnitude",
    "length_km",
    "width_m",
    "fatalities",
    "injuries",
    "fips",
    "source",
    "notes"
  ],

  "style": {
    "lineCap": "round",
    "lineJoin": "round",
    "lineOpacity": 0.95
  },

  "styleBy": [
    {
      "property": "magnitude",
      "when": { "lte": 0 },
      "lineColor": "#9ECAE1",
      "lineWidth": 1.0,
      "lineDasharray": [2, 2]
    },
    {
      "property": "magnitude",
      "when": { "eq": 1 },
      "lineColor": "#6BAED6",
      "lineWidth": 1.4,
      "lineDasharray": [2, 2]
    },
    {
      "property": "magnitude",
      "when": { "eq": 2 },
      "lineColor": "#4292C6",
      "lineWidth": 1.8
    },
    {
      "property": "magnitude",
      "when": { "eq": 3 },
      "lineColor": "#2171B5",
      "lineWidth": 2.2
    },
    {
      "property": "magnitude",
      "when": { "eq": 4 },
      "lineColor": "#08519C",
      "lineWidth": 2.8
    },
    {
      "property": "magnitude",
      "when": { "gte": 5 },
      "lineColor": "#08306B",
      "lineWidth": 3.4
    }
  ],

  "hoverStyle": {
    "lineOpacity": 1.0,
    "lineWidth": 0.4,
    "lineWidthAdditive": true
  },

  "selectedStyle": {
    "lineOpacity": 1.0,
    "lineWidth": 0.8,
    "lineWidthAdditive": true
  },

  "labels": {
    "textField": "{scale}",
    "minzoom": 11,
    "maxzoom": 24,
    "textHaloWidth": 1.0
  },

  "fields": {
    "date":        { "type": "string", "format": "date-time", "description": "Event start (ISO 8601, UTC)" },
    "time_start":  { "type": "string", "format": "date-time", "description": "Timeline start (duplicate of date)" },
    "time_end":    { "type": ["string", "null"], "format": "date-time", "description": "Timeline end (if known)" },
    "scale":       { "type": "string", "description": "Unified label (F# or EF#)" },
    "magnitude":   { "type": "number", "description": "Unified intensity (0–5)" },
    "ef_scale":    { "type": ["string", "null"], "description": "EF label (if present)" },
    "ef":          { "type": ["number", "null"], "description": "EF numeric (if present)" },
    "f_scale":     { "type": ["string", "null"], "description": "Fujita label (if present)" },
    "f":           { "type": ["number", "null"], "description": "Fujita numeric (if present)" },
    "length_km":   { "type": "number", "units": "km", "description": "Path length" },
    "width_m":     { "type": "number", "units": "m", "description": "Max path width" },
    "fatalities":  { "type": "number", "description": "Fatalities" },
    "injuries":    { "type": "number", "description": "Injuries" },
    "fips":        { "type": "string", "description": "County FIPS (semicolon-separated if multiple)" },
    "source":      { "type": "string", "description": "Data source" },
    "notes":       { "type": "string", "description": "Remarks" }
  },

  "search": { "qFields": ["scale", "date", "fips", "notes"] },

  "legend": {
    "title": "Tornado Intensity (F/EF)",
    "items": [
      { "label": "0", "lineColor": "#9ECAE1", "lineWidth": 1.0, "dash": [2,2] },
      { "label": "1", "lineColor": "#6BAED6", "lineWidth": 1.4, "dash": [2,2] },
      { "label": "2", "lineColor": "#4292C6", "lineWidth": 1.8 },
      { "label": "3", "lineColor": "#2171B5", "lineWidth": 2.2 },
      { "label": "4", "lineColor": "#08519C", "lineWidth": 2.8 },
      { "label": "5", "lineColor": "#08306B", "lineWidth": 3.4 }
    ],
    "note": "Dashed lines for EF/F0–1; thicker + darker for stronger tornadoes."
  },

  "legendSymbol": "tornado",
  "attribution": "NOAA Storm Prediction Center (SPC)"
}
