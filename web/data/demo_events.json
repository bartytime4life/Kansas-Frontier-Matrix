{
  "type": "FeatureCollection",
  "name": "Kansas Demo Events",
  "bbox": [-98.0, 38.5, -95.6775, 39.055],
  "generated": "2025-09-28T00:00:00Z",
  "attribution": "Demo events for UI wiring. © Public Domain / compiled.",
  "license": "CC0-1.0",

  "kfm_meta": {
    "schema_version": "1.2",
    "category": "events",
    "description": "Demo point events for wiring the timeline, popups, search, and clustering in the Kansas Geo Timeline.",
    "timeProperty": {
      "mode": "auto",
      "prefer": { "start": "time.start", "end": "time.end", "format": "date" },
      "fallback": { "start": "date", "end": null, "format": "date" }
    },
    "bounds": [-102.051, 36.993, -94.588, 40.003],
    "popup": ["title", "date", "place", "category", "desc", "source"],

    "legend": {
      "type": "point",
      "label": "Event category",
      "classes": [
        { "label": "Legislation", "fill": "#2563eb", "stroke": "#1d4ed8", "icon": "gavel" },
        { "label": "Statehood",   "fill": "#22c55e", "stroke": "#16a34a", "icon": "flag" },
        { "label": "Disaster",    "fill": "#d97706", "stroke": "#b45309", "icon": "triangle-alert" },
        { "label": "Other",       "fill": "#6b7280", "stroke": "#4b5563", "icon": "dot" }
      ]
    },

    "style": {
      "renderer": "circle",
      "circleColor": {
        "match": {
          "property": "category",
          "stops": [
            ["legislation", "#2563eb"],
            ["statehood",   "#22c55e"],
            ["disaster",    "#d97706"]
          ],
          "default": "#6b7280"
        }
      },
      "circleOpacity": 0.92,
      "circleStrokeColor": "#ffffff",
      "circleStrokeWidth": 0.9,
      "circleRadiusByZoom": [
        { "zoom": 5,  "radius": 3.2 },
        { "zoom": 9,  "radius": 4.6 },
        { "zoom": 12, "radius": 6.0 },
        { "zoom": 15, "radius": 7.2 }
      ],
      "hover": {
        "circleStrokeColor": "#111827",
        "circleStrokeWidthDelta": 0.8
      },
      "selection": {
        "circleStrokeColor": "#111827",
        "circleStrokeWidthDelta": 1.2
      }
    },

    "cluster": {
      "enabled": true,
      "radius": 36,
      "maxZoom": 12,
      "style": {
        "circleColor": "#93c5fd",
        "circleOpacity": 0.8,
        "circleStrokeColor": "#1d4ed8",
        "circleStrokeWidth": 1.0,
        "circleRadius": {
          "stops": [[5, 10], [25, 16], [100, 22]],
          "property": "point_count",
          "type": "exponential",
          "base": 1.2
        },
        "textField": "{point_count_abbreviated}",
        "textSize": 11,
        "textColor": "#0b1020"
      }
    },

    "filters": {
      "quick": [
        { "label": "Legislation", "where": { "category": "legislation" } },
        { "label": "Statehood",   "where": { "category": "statehood" } },
        { "label": "Disaster",    "where": { "category": "disaster" } },
        { "label": "1850s",       "where": { "all": [{ "date$gte": "1850-01-01" }, { "date$lt": "1860-01-01" }] } },
        { "label": "1860s–1870s", "where": { "all": [{ "date$gte": "1860-01-01" }, { "date$lt": "1880-01-01" }] } }
      ],
      "advanced": {
        "dateRangeField": "date",
        "groupBy": ["category", "place"]
      }
    },

    "search": {
      "qFields": ["title", "place", "category", "tags"],
      "accentFold": true,
      "minLength": 2,
      "placeholder": "Search events…"
    },

    "ordering": {
      "zindex": 700,
      "before": "documents_index",
      "after": "fema_disasters"
    },

    "stac": {
      "collection": "kfm-events",
      "item": "demo_events_points"
    }
  },

  "fields": {
    "id":       { "type": "string", "description": "Stable event id" },
    "title":    { "type": "string", "description": "Event title" },
    "date":     { "type": "string", "format": "date", "description": "Canonical event date (ISO)" },
    "time":     { "type": "object", "description": "Optional time span with start/end" },
    "desc":     { "type": "string", "description": "Short description" },
    "place":    { "type": "string", "description": "Named place (city/region)" },
    "category": { "type": "string", "enum": ["legislation", "statehood", "disaster", "other"], "description": "Event category" },
    "tags":     { "type": "array", "items": { "type": "string" }, "description": "Tags/keywords" },
    "license":  { "type": "string", "description": "License string" },
    "source":   { "type": "string", "description": "Provenance/source note" }
  },

  "provenance": {
    "source": "KFM demo entries for timeline wiring",
    "notes": "Use pipeline export to replace with authoritative events dataset; preserve `id` and `time` span fields."
  },

  "features": [
    {
      "type": "Feature",
      "id": "event_1854",
      "properties": {
        "id": "event_1854",
        "title": "Kansas-Nebraska Act",
        "date": "1854-05-30",
        "time": { "start": "1854-05-30", "end": "1854-05-30" },
        "desc": "The Kansas-Nebraska Act created the territories of Kansas and Nebraska, opening new lands for settlement.",
        "place": "Territory of Kansas",
        "category": "legislation",
        "tags": ["territory", "statehood", "bleeding-kansas"],
        "license": "CC0-1.0",
        "source": "Demo entry for timeline wiring",
        "marker-color": "#2563eb",
        "marker-size": "medium"
      },
      "geometry": { "type": "Point", "coordinates": [-95.689, 39.055] }
    },
    {
      "type": "Feature",
      "id": "event_1861",
      "properties": {
        "id": "event_1861",
        "title": "Kansas Statehood",
        "date": "1861-01-29",
        "time": { "start": "1861-01-29", "end": "1861-01-29" },
        "desc": "Kansas admitted as the 34th state of the United States.",
        "place": "Topeka",
        "category": "statehood",
        "tags": ["statehood", "union"],
        "license": "CC0-1.0",
        "source": "Demo entry for timeline wiring",
        "marker-color": "#22c55e",
        "marker-size": "medium"
      },
      "geometry": { "type": "Point", "coordinates": [-95.6775, 39.0483] }
    },
    {
      "type": "Feature",
      "id": "event_1874",
      "properties": {
        "id": "event_1874",
        "title": "Grasshopper Plague",
        "date": "1874-01-01",
        "time": { "start": "1874-01-01", "end": "1874-12-31" },
        "desc": "Rocky Mountain locust swarms devastated Kansas crops.",
        "place": "Central Kansas",
        "category": "disaster",
        "tags": ["agriculture", "locusts"],
        "license": "CC0-1.0",
        "source": "Demo entry for timeline wiring (year-only normalized)",
        "marker-color": "#d97706",
        "marker-size": "medium"
      },
      "geometry": { "type": "Point", "coordinates": [-98.0, 38.5] }
    }
  ]
}
