# ================================
# Kansas-Frontier-Matrix / MCP Repo
# .gitattributes â€” CRLF/LF safety, smart diffs, LFS for big geo
# ================================

# --- Default text handling (cross-platform safety) ---
*                 text=auto eol=lf

# --- Normalize line endings for code & docs (diff-friendly) ---
*.py              text diff=python
*.sh              text eol=lf
*.bash            text eol=lf
*.ps1             text
*.bat             text eol=crlf
*.js              text diff=javascript
*.mjs             text diff=javascript
*.cjs             text diff=javascript
*.ts              text
*.tsx             text
*.jsx             text
*.css             text
*.scss            text
*.html            text
*.md              text diff=markdown
*.rst             text
*.mmd             text              # Mermaid
*.plantuml        text
*.svg             text
*.toml            text
*.ini             text
*.yml             text
*.yaml            text
*.json            text diff=json
*.jsonc           text diff=json
*.jsonl           text
*.ndjson          text
*.geojson         text diff=json
*.topojson        text diff=json
*.csv             text
*.tsv             text

# --- Lock binary formats (no auto-merge) ---
*.pdf             binary
*.png             binary
*.jpg             binary
*.jpeg            binary
*.gif             binary
*.ico             binary
*.woff            binary
*.woff2           binary
*.ttf             binary
*.otf             binary

# --- Geospatial rasters / vectors / containers -> LFS ---
# Core rasters & sidecars
*.tif             filter=lfs diff=lfs merge=lfs -text
*.tiff            filter=lfs diff=lfs merge=lfs -text
*.vrt             filter=lfs diff=lfs merge=lfs -text
*.ovr             filter=lfs diff=lfs merge=lfs -text
*.aux.xml         filter=lfs diff=lfs merge=lfs -text
*.tfw             filter=lfs diff=lfs merge=lfs -text
*.wld             filter=lfs diff=lfs merge=lfs -text
*.img             filter=lfs diff=lfs merge=lfs -text      # ERDAS Imagine
*.bil             filter=lfs diff=lfs merge=lfs -text
*.jp2             filter=lfs diff=lfs merge=lfs -text
*.nc              filter=lfs diff=lfs merge=lfs -text      # NetCDF
*.h5              filter=lfs diff=lfs merge=lfs -text      # HDF5
*.hdf             filter=lfs diff=lfs merge=lfs -text
*.hdf5            filter=lfs diff=lfs merge=lfs -text
*.grd             filter=lfs diff=lfs merge=lfs -text

# Point clouds / LiDAR
*.las             filter=lfs diff=lfs merge=lfs -text
*.laz             filter=lfs diff=lfs merge=lfs -text

# Tiles / DB / vector containers
*.pmtiles         filter=lfs diff=lfs merge=lfs -text
*.mbtiles         filter=lfs diff=lfs merge=lfs -text
*.sqlite          filter=lfs diff=lfs merge=lfs -text
*.gpkg            filter=lfs diff=lfs merge=lfs -text
*.geoparquet      filter=lfs diff=lfs merge=lfs -text
*.parquet         filter=lfs diff=lfs merge=lfs -text
*.feather         filter=lfs diff=lfs merge=lfs -text
*.fgb             filter=lfs diff=lfs merge=lfs -text      # FlatGeobuf

# ESRI Shapefile family (all sidecars)
*.shp             filter=lfs diff=lfs merge=lfs -text
*.shx             filter=lfs diff=lfs merge=lfs -text
*.dbf             filter=lfs diff=lfs merge=lfs -text
*.prj             filter=lfs diff=lfs merge=lfs -text
*.cpg             filter=lfs diff=lfs merge=lfs -text
*.sbn             filter=lfs diff=lfs merge=lfs -text
*.sbx             filter=lfs diff=lfs merge=lfs -text
*.aih             filter=lfs diff=lfs merge=lfs -text
*.ain             filter=lfs diff=lfs merge=lfs -text
*.ixs             filter=lfs diff=lfs merge=lfs -text
*.mxs             filter=lfs diff=lfs merge=lfs -text
*.atx             filter=lfs diff=lfs merge=lfs -text
*.shp.xml         filter=lfs diff=lfs merge=lfs -text
*.qpj             filter=lfs diff=lfs merge=lfs -text

# ESRI FileGDB directories (track file contents via LFS)
*.gdb/**          filter=lfs diff=lfs merge=lfs -text

# KML/KMZ (often large)
*.kmz             filter=lfs diff=lfs merge=lfs -text
*.kml             filter=lfs diff=lfs merge=lfs -text

# QGIS projects (zip/container)
*.qgz             filter=lfs diff=lfs merge=lfs -text
*.qgs             filter=lfs diff=lfs merge=lfs -text

# Archives / bundles
*.zip             filter=lfs diff=lfs merge=lfs -text
*.7z              filter=lfs diff=lfs merge=lfs -text
*.tar             filter=lfs diff=lfs merge=lfs -text
*.tar.gz          filter=lfs diff=lfs merge=lfs -text
*.tgz             filter=lfs diff=lfs merge=lfs -text
*.bz2             filter=lfs diff=lfs merge=lfs -text
*.xz              filter=lfs diff=lfs merge=lfs -text
*.zst             filter=lfs diff=lfs merge=lfs -text

# --- Notebooks as text (works with nbstripout/pre-commit) ---
*.ipynb           text linguist-language=Jupyter

# --- CI/CD & repo configs (text) ---
.gitattributes     text
.gitignore         text
.github/**         text

# --- Experiment logs / metadata (diff as text) ---
mcp/experiments/**/metadata.json    text
mcp/experiments/**/config.yaml      text
mcp/experiments/**/README.md        text

# --- DVC metadata (text, never LFS) ---
*.dvc             text
.dvc/**           text

# --- Linguist tuning for repo stats (hide generated/vendor) ---
web/vendor/**           linguist-vendored
web/**/dist/**          linguist-vendored linguist-generated
web/**/build/**         linguist-vendored linguist-generated
web/tiles/**            linguist-vendored linguist-generated

# --- Samples override (keep small demo rasters in Git if needed) ---
# Uncomment to force tiny sample rasters/vectors to stay as text in Git history
# data/samples/**        -filter -diff -merge text

# --- Packaging niceties (exclude from `git archive`) ---
.github/         export-ignore
tests/           export-ignore
docs/            export-ignore
