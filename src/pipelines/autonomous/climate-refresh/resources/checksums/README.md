---
title: "ğŸ” KFM v11 â€” Climate Refresh Checksum Manifest Module (Diamondâ¹ Î© / CrownâˆÎ© Ultimate Certified)"
path: "src/pipelines/autonomous/climate-refresh/resources/checksums/README.md"
version: "v11.0.0"
last_updated: "2025-11-22"
review_cycle: "Daily Â· Autonomous"
commit_sha: "<latest-commit-hash>"
sbom_ref: "../../../../../../releases/v11.0.0/sbom.spdx.json"
manifest_ref: "../../../../../../releases/v11.0.0/manifest.zip"
telemetry_ref: "../../../../../../releases/v11.0.0/telemetry/autonomous-climate-refresh.json"
telemetry_schema: "../../../../../../schemas/telemetry/autonomous-climate-refresh-v1.json"
governance_ref: "../../../../../../docs/standards/governance/ROOT-GOVERNANCE.md"
data_contract_ref: "../../../../../../docs/contracts/data-contract-v3.json"
license: "MIT"
mcp_version: "MCP-DL v6.3"
markdown_protocol_version: "KFM-MDP v11.0.0"
status: "Active / Enforced"
doc_kind: "Checksum Module"
semantic_document_id: "kfm-climate-refresh-checksum-module-v11"
doc_uuid: "urn:kfm:pipelines:autonomous:climate-refresh:resources:checksums:v11"
machine_extractable: true
accessibility_compliance: "WCAG 2.1 AA+"
fair_category: "F1-A1-I1-R1"
care_label: "Public / Medium-Risk"
immutability_status: "version-pinned"
---

<div align="center">

# ğŸ” **Climate Refresh â€” Checksum Manifest Module (v11)**  
`src/pipelines/autonomous/climate-refresh/resources/checksums/README.md`

**Purpose:**  
Define the checksum manifest system used by the **Autonomous Climate Refresh Pipeline**, ensuring  
cryptographic integrity, deterministic reproduction, CI-enforced STAC correctness, and reliable  
promotion of climate datasets under KFM v11.

</div>

---

# ğŸ“˜ Overview

The Climate Refresh checksum module provides:

- Immutable **SHA-256** digests for all climate STAC assets  
- A stable manifest used in **stale-detection** and **checksum validation**  
- CI gates preventing incorrect or corrupted assets from entering the system  
- Protection against silent upstream data changes  
- Deterministic ETL, even with external climate sources  
- Multi-hash support for future KFM-STAC v11+ compatibility  

It underpins trust in all **station**, **gridded**, **composite**, and **forecast** climate data.

---

# ğŸ—‚ Directory Layout (v11)

```text
src/pipelines/autonomous/climate-refresh/resources/checksums/
â”‚
â”œâ”€â”€ README.md                 # This file (v11)
â””â”€â”€ manifest.json             # SHA-256 manifest for climate STAC assets
```

---

# ğŸ”‘ manifest.json (Integrity Contract)

The manifest MUST track:

- SHA-256 per climate STAC asset  
- Provider origin  
- Last verification timestamp  
- Multi-hash fields (optional)  
- Reference to the upstream provider dataset version if accessible  
- Strict alphabetical ordering of top-level keys  

### Example (KFM v11 structure â€“ placeholder hashes)

```json
{
  "version": "1.0.0",
  "last_updated": "2025-11-22T03:00:00Z",
  "entries": {
    "noaa.ncei.daily_2025-11-21.csv": {
      "sha256": "e503fb05a5d9fffdabc1230000deadbeef0000ccddeeff001122334455667788",
      "provider": "noaa.ncei.daily",
      "last_verified": "2025-11-22T03:00:00Z"
    },
    "daymet.tmax_2025-11-21.tif": {
      "sha256": "abcde12345ffff0000beadbeadbeadfefefefefedaba987654321000fde87654",
      "provider": "daymet",
      "last_verified": "2025-11-22T03:00:00Z"
    }
  }
}
```

> **Note:**  
> All hash values above are placeholders; actual values must be generated by `validate_checksums.py`.

---

# âš™ How the Manifest Is Used in the Climate DAG

### Node â†’ `validate_checksums.py`
- Computes SHA-256 for all STAC Item assets  
- Compares to entries in `manifest.json`  
- Fails immediately on mismatch (strict CI mode)  
- In governance-enabled **update mode**, updates manifest entries deterministically  

### Node â†’ `detect_stale.py`
- Uses manifest timestamps + provider headers for stale detection  
- Accelerates DAG runs by pruning unchanged upstream resources  

### Node â†’ `post_hooks.py`
- Writes checksum health into climate telemetry  
- Emits OpenLineage facet: `"checksum_validation"`  

---

# ğŸ§¬ PROV-O Lineage Requirements

Every checksum operation MUST be recorded via:

```
prov:activity          â†’ "checksum-verify-v11"
prov:used              â†’ <local asset path>
prov:generatedAtTime   â†’ timestamp
prov:wasAssociatedWith â†’ "kfm-autonomous-climate-refresh"
```

This block must appear both in:

- The STAC Itemâ€™s `"kfm:lineage"`  
- The telemetry bundle  

---

# ğŸ” CI/CD Enforcement

CI MUST block PRs if:

- `manifest.json` is missing required keys  
- A STAC asset is missing its manifest entry  
- Any SHA-256 mismatch occurs  
- Keys are out of alphabetical order  
- JSON fails schema validation  
- Unauthorized changes to the manifest occur  
- Updates happen without governance review  

PR = rejected if any of the above fail.

---

# ğŸ§­ Governance & Best Practices

- NEVER manually edit hash values  
- ALWAYS use the pipeline (`validate_checksums.py`) to update manifest values  
- ALWAYS document hash changes in commit messages  
- ALWAYS use atomic writes to avoid CI race conditions  
- DO NOT mix station + gridded keys out of alphabetical order  

---

# ğŸ•° Version History

- **v11.0.0 (2025-11-22)** â€” Initial Climate Refresh checksum module for KFM v11.

---

<div align="center">

**Kansas Frontier Matrix â€” Climate Refresh Checksum Module (v11)**  
*Integrity Â· Verification Â· Scientific Trustworthiness*

</div>

---

### ğŸ”— Footer  
[â¬… Back to Climate Resources](../README.md) Â· [ğŸ“‘ Schema Module](../schema/README.md) Â· [ğŸ§© Nodes](../../nodes/README.md) Â· [ğŸ› Governance](../../../../../../docs/standards/governance/ROOT-GOVERNANCE.md)

