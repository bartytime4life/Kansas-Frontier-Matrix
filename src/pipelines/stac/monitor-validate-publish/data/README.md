---
title: "ğŸ“¦ Kansas Frontier Matrix â€” STAC Orchestrator Data Layer (Diamondâ¹ Î© / CrownâˆÎ© Ultimate Certified)"
path: "src/pipelines/stac/monitor-validate-publish/data/README.md"
version: "v10.3.1"
last_updated: "2025-11-14"
review_cycle: "Quarterly Â· FAIR+CARE Council"
commit_sha: "<latest-commit-hash>"
sbom_ref: "../../../../../releases/v10.3.0/sbom.spdx.json"
manifest_ref: "../../../../../releases/v10.3.0/manifest.zip"
telemetry_ref: "../../../../../releases/v10.3.0/focus-telemetry.json"
telemetry_schema: "../../../../../schemas/telemetry/pipelines-stac-data-layer-v1.json"
governance_ref: "../../../../../docs/standards/governance/ROOT-GOVERNANCE.md"
license: "CC-BY 4.0"
mcp_version: "MCP-DL v6.3"
---

<div align="center">

# ğŸ“¦ **Kansas Frontier Matrix â€” STAC Orchestrator Data Layer**  
`src/pipelines/stac/monitor-validate-publish/data/README.md`

**Purpose:**  
Define the structure, retention rules, FAIR+CARE governance requirements, and telemetry bindings for all **STAC data artifacts** produced by the *Monitor â†’ Validate â†’ Publish* pipeline.  
This layer contains **incoming**, **quarantined**, **validated**, and **published** STAC assets, used throughout the KFM ingestion, validation, governance, and graph hydration workflows.

<img alt="STAC Data" src="https://img.shields.io/badge/STAC_Data-Structured-blue"/>
<img alt="FAIR+CARE" src="https://img.shields.io/badge/FAIR%2BCARE-Enforced-orange"/>
<img alt="MCP" src="https://img.shields.io/badge/MCP_v6.3-Compliant-green"/>
<img alt="Status" src="https://img.shields.io/badge/DataLayer-Active-success"/>

</div>

---

## ğŸ“˜ Overview

This directory contains all **data artifacts** related to STAC ingestion:

- **Raw incoming STAC JSONL** batches  
- **Quarantined validation failures**  
- **Telemetry JSONL** generated by orchestrator runs  
- **Published STAC Items/Collections** (after transformation + validation)  

These data are consumed by:

- Geospatial pipelines  
- Focus Mode v2.4 semantic linking  
- Neo4j graph hydrators  
- Governance & audit pipelines  
- STAC/DCAT catalog generators  

---

## ğŸ—‚ï¸ Directory Layout

~~~~~text
src/pipelines/stac/monitor-validate-publish/data/
â”œâ”€â”€ incoming/                     # Raw STAC JSONL batches (untrusted)
â”‚   â””â”€â”€ <timestamp>/              # Per-run folders from monitor.py
â”‚
â”œâ”€â”€ quarantine/                   # Validation failures requiring review
â”‚   â””â”€â”€ <timestamp>/
â”‚       â”œâ”€â”€ items.jsonl
â”‚       â”œâ”€â”€ last_failure_summary.md
â”‚       â””â”€â”€ datadocs/             # Snapshot of GE Data Docs
â”‚
â”œâ”€â”€ published/                    # Validated + transformed STAC assets
â”‚   â”œâ”€â”€ collections/              # STAC Collections (versioned)
â”‚   â””â”€â”€ items/                    # STAC Items per collection
â”‚
â””â”€â”€ telemetry/                    # JSONL telemetry from each orchestrator run
    â””â”€â”€ <timestamp>.jsonl
~~~~~

---

## ğŸ§ª Data Lifecycle (Indented Mermaid)

~~~~~mermaid
flowchart TD
  A["Poll STAC API"] --> B["data/incoming/<ts>/items.jsonl"]
  B --> C["Great Expectations Validation"]
  C -->|PASS| D["data/published/<collections/items>"]
  C -->|FAIL| E["data/quarantine/<ts>/"]
  D --> F["Neo4j Graph Hydration"]
  D --> G["Telemetry â†’ data/telemetry/<ts>.jsonl"]
  E --> H["GitHub Issue + Governance Review"]
~~~~~

---

## ğŸ“¥ 1. Incoming STAC Data (`incoming/`)

Characteristics:

- Contains **raw, untrusted** STAC JSON/JSONL batches
- Written by `monitor.py`
- Always associated with a timestamped folder
- Subjected immediately to:
  - JSON schema validation  
  - Great Expectations checkpoint  
  - CARE/governance checks  

Retention:

- Default: **7 days**
- Extended retention when validation is triggered

---

## ğŸš« 2. Quarantine Data (`quarantine/`)

Contains:

- Failed batch `items.jsonl`
- `last_failure_summary.md` from GE + custom rules
- Snapshot of validation **Data Docs** in `datadocs/`
- Metadata for governance review

Triggers:

- Auto-issue creation (GitHub)  
- Telemetry with:
  - error classes  
  - care violations  
  - schema mismatch counts  

Retention:

- **180 days** (FAIR+CARE re-audit requirement)

---

## ğŸ“¤ 3. Published STAC (`published/`)

Only **validated** Items/Collections are written here.

Structure:

~~~~~text
published/
â”œâ”€â”€ collections/<collection>.json
â””â”€â”€ items/<collection>/<item_id>.json
~~~~~

Rules:

- Must pass:
  - JSON schema  
  - GE suite  
  - CARE governance checks  
- Must contain:
  - `kfm:checksum`
  - `kfm:care_label`
  - `kfm:provenance`
  - `kfm:ingest_version`
- Timestamp and version applied by `transform.py`

Immutability:

- **Never modified** post-publish  
- New changes require new versioning in STAC/DCAT + lineage

---

## ğŸ“¡ 4. Telemetry (`telemetry/`)

Telemetry JSONL is produced on each orchestrator run.

Fields include:

- `timestamp`
- `items_polled`
- `items_new`
- `items_updated`
- `items_quarantined`
- `validation_runtime_sec`
- `publish_latency_ms`
- `error_classes`
- `care_errors`
- `schema_errors`
- `energy_wh`
- `co2_g`

Telemetry is later aggregated into:

~~~~~text
../../../../../releases/v10.3.0/focus-telemetry.json
~~~~~

---

## âš–ï¸ FAIR+CARE Governance Requirements

Every file under this data layer must satisfy FAIR+CARE requirements:

### CARE Constraints
- Sensitive or restricted datasets MUST be masked/generalized  
- CARE labels must propagate into metadata  
- Quarantine events must record culture-related impacts  

### FAIR Data Principles
- **Findable:** clear naming, predictable paths  
- **Accessible:** consistent JSON/JSONL/GeoJSON formats  
- **Interoperable:** strict STAC 1.0 alignment  
- **Reusable:** lineage, provenance, checksum fields required  

Governance review references:

~~~~~text
../../../../../docs/standards/governance/ROOT-GOVERNANCE.md
~~~~~

---

## ğŸ§ª Local Inspection Examples

Inspect incoming batch:

~~~~~bash
jq '.' src/pipelines/stac/monitor-validate-publish/data/incoming/<ts>/items.jsonl
~~~~~

Inspect quarantined summary:

~~~~~bash
cat src/pipelines/stac/monitor-validate-publish/data/quarantine/<ts>/last_failure_summary.md
~~~~~

Inspect published Item:

~~~~~bash
jq '.properties' data/stac/published/items/<collection>/<id>.json
~~~~~

---

## ğŸ•°ï¸ Version History

| Version | Date | Author | Summary |
|---------|--------|--------|---------|
| v10.3.1 | 2025-11-14 | STAC Pipelines Team | Added full KFM-compliant documentation for STAC Orchestrator data storage layer. |

---

<div align="center">

**Kansas Frontier Matrix â€” STAC Data Layer**  
Clean Ingestion Ã— Verified Metadata Ã— Governance-Aligned Ã— Immutable Outputs  
Â© 2025 Kansas Frontier Matrix â€” CC-BY 4.0  

[Back to Orchestrator](../README.md)

</div>
