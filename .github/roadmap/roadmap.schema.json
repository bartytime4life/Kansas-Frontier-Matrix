{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://example.org/schemas/roadmap.schema.json",
  "title": "Kansas-Frontier-Matrix â€” Roadmap Definition",
  "type": "object",
  "additionalProperties": false,
  "required": ["version", "project", "owner", "enums", "defaults", "labels", "milestones"],
  "properties": {
    "version": { "type": "integer", "minimum": 1 },
    "project": { "type": "string", "minLength": 1 },
    "owner": { "type": "string", "minLength": 1 },
    "enums": {
      "type": "object",
      "required": ["priorities", "estimates"],
      "additionalProperties": false,
      "properties": {
        "priorities": {
          "type": "array",
          "items": { "type": "string", "enum": ["P1", "P2", "P3"] },
          "minItems": 1
        },
        "estimates": {
          "type": "array",
          "items": { "type": "string", "enum": ["XS", "S", "M", "L", "XL"] },
          "minItems": 1
        }
      }
    },
    "defaults": {
      "type": "object",
      "required": ["create_missing_labels", "create_missing_milestones", "close_missing_issues", "dry_run", "issue"],
      "additionalProperties": false,
      "properties": {
        "create_missing_labels": { "type": "boolean" },
        "create_missing_milestones": { "type": "boolean" },
        "close_missing_issues": { "type": "boolean" },
        "dry_run": { "type": "boolean" },
        "issue": {
          "type": "object",
          "required": ["state", "assignees", "labels", "priority", "estimate"],
          "additionalProperties": false,
          "properties": {
            "state": { "type": "string", "enum": ["open", "closed"] },
            "assignees": { "type": "array", "items": { "type": "string" } },
            "labels": { "type": "array", "items": { "type": "string" } },
            "priority": { "type": "string", "enum": ["P1", "P2", "P3"] },
            "estimate": { "type": "string", "enum": ["XS", "S", "M", "L", "XL"] }
          }
        }
      }
    },
    "labels": {
      "type": "array",
      "minItems": 1,
      "items": {
        "type": "object",
        "required": ["name", "color", "description"],
        "additionalProperties": false,
        "properties": {
          "name": { "type": "string", "minLength": 1 },
          "color": { "type": "string", "pattern": "^[0-9a-fA-F]{6}$" },
          "description": { "type": "string" }
        }
      }
    },
    "milestones": {
      "type": "array",
      "minItems": 1,
      "items": {
        "type": "object",
        "required": ["key", "title", "state", "description"],
        "additionalProperties": false,
        "properties": {
          "key": { "type": "string", "minLength": 1 },
          "title": { "type": "string", "minLength": 1 },
          "state": { "type": "string", "enum": ["open", "closed"] },
          "due_on": { "type": "string", "format": "date" },
          "description": { "type": "string", "minLength": 1 },
          "issues": {
            "type": "array",
            "items": {
              "type": "object",
              "required": ["key", "title"],
              "additionalProperties": false,
              "properties": {
                "key": { "type": "string", "minLength": 1 },
                "title": { "type": "string", "minLength": 1 },
                "labels": { "type": "array", "items": { "type": "string" } },
                "priority": { "type": "string", "enum": ["P1", "P2", "P3"] },
                "estimate": { "type": "string", "enum": ["XS", "S", "M", "L", "XL"] },
                "body": { "type": "string" },
                "files": { "type": "array", "items": { "type": "string" } }
              }
            }
          }
        }
      }
    }
  }
}
