---
title: "GitHub Action ‚Äî dcat-validate"
path: ".github/actions/dcat-validate/README.md"
version: "v1.0.0"
last_updated: "2025-12-19"
status: "draft"
doc_kind: "Guide"
license: "CC-BY-4.0"

markdown_protocol_version: "KFM-MDP v11.2.6"
mcp_version: "MCP-DL v6.3"
ontology_protocol_version: "KFM-ONTO v4.1.0"
pipeline_contract_version: "KFM-PPC v11.0.0"
stac_profile: "KFM-STAC v11.0.0"
dcat_profile: "KFM-DCAT v11.0.0"
prov_profile: "KFM-PROV v11.0.0"

governance_ref: "docs/governance/ROOT_GOVERNANCE.md"
ethics_ref: "docs/governance/ETHICS.md"
sovereignty_policy: "docs/governance/SOVEREIGNTY.md"
fair_category: "FAIR+CARE"
care_label: "TBD"
sensitivity: "public"
classification: "open"
jurisdiction: "US-KS"

doc_uuid: "urn:kfm:doc:github-actions:dcat-validate:readme:v1.0.0"
semantic_document_id: "kfm-github-action-dcat-validate-readme-v1.0.0"
event_source_id: "ledger:kfm:doc:github-actions:dcat-validate:readme:v1.0.0"
commit_sha: "<latest-commit-hash>"

ai_transform_permissions:
  - "summarize"
  - "structure_extract"
  - "translate"
  - "keyword_index"
ai_transform_prohibited:
  - "generate_policy"
  - "infer_sensitive_locations"

doc_integrity_checksum: "sha256:<calculate-and-fill>"
---

# GitHub Action ‚Äî dcat-validate

## üìò Overview

### Purpose
This action is a **CI validation gate** for KFM‚Äôs **DCAT** dataset metadata artifacts (catalog stage).  
It is intended to fail fast when **DCAT records** are malformed or violate KFM‚Äôs DCAT profile / schema
expectations, so invalid catalog outputs do not progress further along the pipeline.

### Scope

| In Scope | Out of Scope |
|---|---|
| Validate generated DCAT records under `data/catalog/dcat/` | Generating DCAT records |
| Enforce DCAT schema/profile expectations as a CI gate | Building STAC/DCAT/PROV catalogs |
| Emit clear logs for failing files | Graph ingestion and API/UI behavior |

### Audience
- Primary: CI maintainers, pipeline engineers (Catalog stage)
- Secondary: data contributors adding/updating dataset metadata

### Definitions (link to glossary)
- Link: `docs/glossary.md` (**not confirmed in repo**)
- Terms used in this doc: DCAT, Catalog stage, schema validation, CI gate, provenance link

### Key artifacts (what this doc points to)

| Artifact | Path / Identifier | Owner | Notes |
|---|---|---|---|
| Action definition | `.github/actions/dcat-validate/action.yml` | Repo maintainers | **not confirmed in repo** (expected file for an action) |
| DCAT outputs | `data/catalog/dcat/` | Catalog stage | Canonical DCAT output location |
| Schemas | `schemas/` | Schema owners | DCAT schema location is **not confirmed in repo** |
| Workflows using this action | `.github/workflows/*.yml` | CI maintainers | **not confirmed in repo** |

### Definition of done (for this document)
- [ ] Front-matter complete + valid
- [ ] Purpose and scope are explicit and do not imply undeclared tooling
- [ ] Example usage provided and clearly marked ‚Äúupdate to match action.yml inputs‚Äù
- [ ] Validation expectations described (including failure behavior)
- [ ] Governance + CARE/sovereignty considerations explicitly stated (even if ‚Äúnone‚Äù)

## üóÇÔ∏è Directory Layout

### This document
- `path`: `.github/actions/dcat-validate/README.md`

### Related repository paths

| Area | Path | What lives here |
|---|---|---|
| GitHub Actions | `.github/actions/` | Reusable actions used by workflows |
| Workflows | `.github/workflows/` | CI pipelines that invoke actions |
| DCAT outputs | `data/catalog/dcat/` | DCAT dataset records generated by catalog build |
| Schemas | `schemas/` | JSON schemas used for validation gates |
| Catalog code | `src/pipelines/` | Catalog generation code (exact subpath **not confirmed in repo**) |

### Expected file tree for this sub-area
~~~text
.github/
‚îî‚îÄ‚îÄ actions/
    ‚îî‚îÄ‚îÄ dcat-validate/
        ‚îî‚îÄ‚îÄ README.md
        # action.yml is expected for a GitHub Action but is not confirmed in repo:
        # ‚îî‚îÄ‚îÄ action.yml
~~~

## üß≠ Context

### Background
KFM treats **metadata catalogs** (STAC/DCAT/PROV) as first-class outputs in the canonical pipeline.
DCAT validation is a practical CI safeguard to ensure catalog metadata remains machine-validated and
safe to propagate to downstream graph/API/UI layers.

### Assumptions
- DCAT dataset records exist (or will exist) under `data/catalog/dcat/`.
- CI runs a validator that can check DCAT records against KFM‚Äôs schema/profile expectations.
- This action does **not** mutate repository state; it only validates and reports.

### Constraints / invariants
- Preserve the canonical ordering: ETL ‚Üí STAC/DCAT/PROV ‚Üí Graph ‚Üí APIs ‚Üí UI ‚Üí Story Nodes ‚Üí Focus Mode.
- This action is a **catalog validation gate**, not a catalog generator.
- Frontend consumes contracts via APIs (no direct graph dependency).

### Open questions

| Question | Owner | Target date |
|---|---|---|
| What validator implementation is used (JSON Schema, SHACL, or other)? | TBD | TBD |
| What are the exact action inputs/outputs defined in `action.yml`? | TBD | TBD |
| Where are DCAT schemas stored under `schemas/` (if present)? | TBD | TBD |

### Future extensions
- Add ‚Äúchanged-files only‚Äù mode to validate only DCAT files touched in a PR (**not confirmed in repo**).
- Emit a machine-readable validation report artifact (e.g., JSON) for downstream CI summarization (**not confirmed in repo**).

## üó∫Ô∏è Diagrams

### System / dataflow diagram
~~~mermaid
flowchart LR
  A[Catalog build produces DCAT records] --> B[data/catalog/dcat/]
  B --> C[dcat-validate GitHub Action]
  C -->|pass| D[CI green: downstream stages may run]
  C -->|fail| E[CI red: fix catalog metadata]
~~~

## üì¶ Data & Metadata

### Inputs

| Input | Format | Where from | Validation |
|---|---|---|---|
| DCAT records directory | directory path | `data/catalog/dcat/` | DCAT profile/schema checks |
| Schema directory | directory path | `schemas/` | **not confirmed in repo** |

### Outputs

| Output | Format | Path | Contract / Schema |
|---|---|---|---|
| Validation logs | CI logs | GitHub Actions run logs | N/A |
| Optional report artifact | JSON | CI artifact | **not confirmed in repo** |

### Sensitivity & redaction
- DCAT records may include spatial/temporal coverage metadata.
- If any datasets are classified **restricted**, ensure catalog content (or its publication) follows
  `docs/governance/SOVEREIGNTY.md` and related governance docs (**policy specifics not confirmed in repo**).

### Quality signals
- All DCAT records parse successfully.
- Required fields present per KFM-DCAT profile.
- References to related assets (e.g., downloads, STAC/PROV pointers) are syntactically valid (link checking rules **not confirmed in repo**).

## üåê STAC, DCAT & PROV Alignment

### STAC
- Collections involved: depends on dataset(s) referenced by DCAT (not enforced here unless explicitly implemented).
- Items involved: depends on dataset(s) referenced by DCAT.

### DCAT
- DCAT record location: `data/catalog/dcat/`
- Dataset identifiers: expected to be stable and versionable.

### PROV-O
- If DCAT records include lineage pointers, they should align with PROV bundles (expected under `data/prov/`).

### Versioning
- If versioning is implemented, ensure DCAT updates follow predecessor/successor link conventions (**not confirmed in repo**).

## üß± Architecture

### Components

| Component | Responsibility | Interface |
|---|---|---|
| Workflow | Invokes validation in CI | `.github/workflows/*.yml` |
| dcat-validate action | Runs validation step(s) | `.github/actions/dcat-validate/` |
| Validator | Performs checks | implementation **not confirmed in repo** |
| Schemas | Validation contracts | `schemas/` |

### Interfaces / contracts
- DCAT profile: `KFM-DCAT v11.0.0` (see repo‚Äôs governed profiles in docs/templates and Master Guide)
- Schemas: expected under `schemas/` (**exact paths not confirmed in repo**)

### Example workflow usage (update to match `action.yml` inputs)
~~~yaml
jobs:
  validate-dcat:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - name: Validate DCAT catalogs
        uses: ./.github/actions/dcat-validate
        with:
          # NOTE: input names are NOT CONFIRMED in repo; update to match action.yml
          dcat_dir: data/catalog/dcat
          schemas_dir: schemas
~~~

## üß† Story Node & Focus Mode Integration

### How this work surfaces in Focus Mode
Indirectly: valid catalogs help ensure downstream graph/API/UI layers can safely use metadata.

### Provenance-linked narrative rule
Unchanged: this action does not author narrative; it only validates catalog metadata.

## üß™ Validation & CI/CD

### Validation steps
- [ ] Run this action in PR workflows when `data/catalog/dcat/**` or relevant schemas change.
- [ ] Ensure failures show which files failed and why (line/field-level messages if supported).

### Reproduction
~~~bash
# Replace with repo-specific commands once the validator implementation is confirmed.
# Example placeholders:
# 1) validate DCAT records
# <validator-cli> --input data/catalog/dcat --schemas schemas
~~~

### Telemetry signals (if applicable)

| Signal | Source | Where recorded |
|---|---|---|
| DCAT validation pass/fail | CI | GitHub Actions logs (telemetry schema **not confirmed in repo**) |

## ‚öñ FAIR+CARE & Governance

### Review gates
- If DCAT changes affect classified/sensitive datasets: requires human review (governance council / data steward).

### CARE / sovereignty considerations
- Do not publish sensitive dataset details beyond approved classification levels.
- Follow sovereignty and ethics references in front-matter.

### AI usage constraints
- This action is validation-only; it must not generate policy or infer sensitive locations.

## üï∞Ô∏è Version History

| Version | Date | Summary | Author |
|---|---|---|---|
| v1.0.0 | 2025-12-19 | Initial action README (governed doc format) | TBD |