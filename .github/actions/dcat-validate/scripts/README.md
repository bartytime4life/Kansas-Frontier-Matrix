---
title: "GitHub Action Scripts â€” DCAT Validate"
path: ".github/actions/dcat-validate/scripts/README.md"
version: "v1.0.0"
last_updated: "2025-12-22"
status: "draft"
doc_kind: "Guide"
license: "CC-BY-4.0"

markdown_protocol_version: "KFM-MDP v11.2.6"
mcp_version: "MCP-DL v6.3"
ontology_protocol_version: "KFM-ONTO v4.1.0"
pipeline_contract_version: "KFM-PPC v11.0.0"
stac_profile: "KFM-STAC v11.0.0"
dcat_profile: "KFM-DCAT v11.0.0"
prov_profile: "KFM-PROV v11.0.0"

governance_ref: "docs/governance/ROOT_GOVERNANCE.md"
ethics_ref: "docs/governance/ETHICS.md"
sovereignty_policy: "docs/governance/SOVEREIGNTY.md"
fair_category: "FAIR+CARE"
care_label: "TBD"
sensitivity: "public"
classification: "open"
jurisdiction: "US-KS"

doc_uuid: "urn:kfm:doc:github-actions:dcat-validate:scripts-readme:v1.0.0"
semantic_document_id: "kfm-github-actions-dcat-validate-scripts-readme-v1.0.0"
event_source_id: "ledger:kfm:doc:github-actions:dcat-validate:scripts-readme:v1.0.0"
commit_sha: "<latest-commit-hash>"

ai_transform_permissions:
  - "summarize"
  - "structure_extract"
  - "translate"
  - "keyword_index"
ai_transform_prohibited:
  - "generate_policy"
  - "infer_sensitive_locations"

doc_integrity_checksum: "sha256:<calculate-and-fill>"
---

# GitHub Action Scripts â€” DCAT Validate

## ğŸ“˜ Overview

### Purpose

- Define **what lives in** `.github/actions/dcat-validate/scripts/` and how those scripts should behave when validating KFM **DCAT** catalog outputs.
- Standardize script **interfaces (CLI args)**, **exit codes**, and **reporting conventions** so the parent action remains small, testable, and predictable.

### Scope

| In Scope | Out of Scope |
|---|---|
| Helper scripts intended to be invoked by `.github/actions/dcat-validate/`. | Defining the DCAT profile itself (see `KFM-DCAT v11.0.0` artifacts; exact file path not confirmed in repo). |
| Local developer workflows for running validators against `data/catalog/dcat/`. | Implementing ETL, STAC build, PROV generation, graph build, API/UI features. |
| Script-level conventions: arguments, outputs, exit codes, logging. | Choosing CI providers beyond GitHub Actions. |

### Audience

- Primary: CI maintainers and catalog maintainers who own validation gates for `data/catalog/dcat/`.
- Secondary: ETL developers generating DCAT outputs and needing fast feedback.

### Definitions (link to glossary)

- Link: `docs/glossary.md` (not confirmed in repo)
- Terms used in this doc: DCAT, catalog output, validator, schema validation, link checking.

### Key artifacts (what this doc points to)

| Artifact | Path / Identifier | Owner | Notes |
|---|---|---|---|
| DCAT validation action | `.github/actions/dcat-validate/` | CI maintainers | Parent action that calls scripts in this directory. |
| Scripts directory | `.github/actions/dcat-validate/scripts/` | CI maintainers | Script entrypoints and helpers. |
| DCAT outputs | `data/catalog/dcat/` | Catalog maintainers | Canonical location for DCAT outputs. |
| Schemas | `schemas/` | Platform maintainers | JSON schemas and (optionally) shape bundles; DCAT schema location not confirmed in repo. |
| Master pipeline contract | `docs/MASTER_GUIDE_v12.md` | KFM core maintainers | Canonical pipeline ordering + profiles. |

### Definition of done (for this document)

- [ ] Front-matter complete + valid
- [ ] Script inventory table reflects actual files in this directory (no stale entries)
- [ ] Each script has `--help` output documenting required args and exit codes
- [ ] Validation steps listed and repeatable (CI and local)
- [ ] Governance + CARE/sovereignty considerations explicitly stated (when scripts touch sensitive data)

## ğŸ—‚ï¸ Directory Layout

### This document

- `path`: `.github/actions/dcat-validate/scripts/README.md` (must match front-matter)

### Related repository paths

| Area | Path | What lives here |
|---|---|---|
| GitHub Actions | `.github/actions/` | Reusable actions (composite/custom) |
| This action | `.github/actions/dcat-validate/` | DCAT validation action definition + config |
| Scripts | `.github/actions/dcat-validate/scripts/` | Script entrypoints + utilities |
| Catalog outputs | `data/catalog/dcat/` | DCAT datasets/distributions generated by pipelines |
| Schemas | `schemas/` | JSON schema bundles + validators (profile-dependent) |
| Pipelines | `src/pipelines/` | ETL + catalog build steps (producer of DCAT outputs) |

### Expected file tree for this sub-area

~~~text
ğŸ“ .github/
â””â”€â”€ ğŸ“ actions/
    â””â”€â”€ ğŸ“ dcat-validate/
        â”œâ”€â”€ ğŸ“„ README.md
        â”œâ”€â”€ ğŸ“„ action.yml                 (or action.yaml; not confirmed in repo)
        â””â”€â”€ ğŸ“ scripts/
            â”œâ”€â”€ ğŸ“„ README.md              â† you are here
            â”œâ”€â”€ ğŸ“„ <script_1>             (not confirmed in repo)
            â”œâ”€â”€ ğŸ“„ <script_2>             (not confirmed in repo)
            â””â”€â”€ ğŸ“ lib/                   (optional; not confirmed in repo)
                â””â”€â”€ ğŸ“„ <shared_module>    (not confirmed in repo)
~~~

## ğŸ§­ Context

### Background

- KFM treats **STAC/DCAT/PROV** as first-class catalog artifacts in the canonical pipeline.
- Validation at the catalog boundary is a CI â€œgateâ€: malformed or incomplete DCAT should fail fast so downstream graph/API/UI components are never built from invalid metadata.

### Assumptions

- Scripts run in a CI job where the repository is checked out into a workspace.
- Scripts validate files generated by earlier pipeline steps (local build or CI build).

### Constraints / invariants

- Canonical ordering is preserved: **ETL â†’ STAC/DCAT/PROV â†’ Graph â†’ APIs â†’ UI â†’ Story Nodes â†’ Focus Mode**.
- Catalog validation is **machine-validated** and should be deterministic and replayable.
- Frontend consumes contracts via APIs (no direct graph dependency).

### Open questions

| Question | Owner | Target date |
|---|---|---|
| What is the canonical DCAT schema / SHACL location for validation? (path not confirmed in repo) | TBD | TBD |
| Should JSON-LD context resolution be offline-only, or allow remote fetches? | TBD | TBD |
| What is the minimum metadata bar for `KFM-DCAT v11.0.0` outputs in CI? | TBD | TBD |

### Future extensions

- Extension point A: Optional SHACL validation (if/when shape bundles are adopted).
- Extension point B: Link integrity checks for DCAT distributions/assets that map back to STAC assets.

## ğŸ—ºï¸ Diagrams

### System / dataflow diagram

~~~mermaid
flowchart LR
  A[ETL] --> B[STAC/DCAT/PROV Catalogs]
  B --> C[Neo4j Graph]
  C --> D[APIs]
  D --> E[React/Map UI]
  E --> F[Story Nodes]
  F --> G[Focus Mode]

  subgraph CI["CI Gate (dcat-validate)"]
    B --> V[Scripts in .github/actions/dcat-validate/scripts]
  end
~~~

### Optional: sequence diagram

~~~mermaid
sequenceDiagram
  participant CI as CI Job
  participant Scripts as dcat-validate/scripts
  participant Catalog as data/catalog/dcat

  CI->>Scripts: run validation (inputs: paths, schema refs)
  Scripts->>Catalog: read DCAT outputs
  Scripts-->>CI: exit code + report (stdout/stderr)
~~~

## ğŸ“¦ Data & Metadata

### Data lifecycle (required staging)

- `data/raw/` â†’ `data/work/` â†’ `data/processed/` â†’ `data/stac/` (+ `data/reports/` outputs as needed)
- DCAT outputs are expected under `data/catalog/dcat/` when catalog build steps run.

### Domain expansion pattern

- New domains go under `data/<domain>/...`
- New domain docs go under `docs/<domain>/...` or `docs/data/<domain>/...` (choose one canonical location and link)

## ğŸŒ STAC, DCAT & PROV Alignment

### STAC/DCAT/PROV alignment policy (how to document)

When validating DCAT outputs, scripts in this directory should support checks that help enforce KFM alignment expectations:

- DCAT dataset identifiers are present and stable across versions.
- Minimum mapping fields exist (title/description/license/keywords).
- Provenance pointers exist where required (e.g., PROV activity/run ID references) â€” exact field mapping is profile-defined (not confirmed in repo).

### Versioning expectations

- New versions link predecessor/successor
- Graph mirrors version lineage

## ğŸ§± Architecture

### Subsystem contracts (what must exist for each subsystem)

| Subsystem | Contract artifacts | â€œDo not breakâ€ rule |
|---|---|---|
| ETL | configs + run logs + validation | deterministic, replayable |
| Catalogs | STAC/DCAT/PROV schemas + validators | machine-validated |
| Graph | ontology + migrations + constraints | stable labels/edges |
| APIs | OpenAPI/GraphQL schema + tests | backward compat or version bump |
| UI | layer registry + a11y + audit affordances | no hidden data leakage |
| Focus Mode | provenance-linked context bundle | no hallucinated sources |

### Script interface contract (recommended)

> NOTE: The exact CLI flags must match what `.github/actions/dcat-validate` calls. Update this section once scripts are implemented/confirmed.

Recommended baseline:

- Each script must support `--help` and return a non-zero exit code on invalid inputs.
- Prefer explicit inputs over implicit globbing:
  - `--input` (file or directory)
  - `--input-glob` (optional)
  - `--schema` / `--shapes` (optional, profile-dependent)
  - `--report` (optional path for writing a machine-readable report)

Recommended exit codes:

| Code | Meaning |
|---:|---|
| 0 | Validation passed |
| 1 | Validation failed (schema/content/link failures) |
| 2 | Script error (misconfiguration, unhandled exception) |

### Script inventory

> Update this table so it reflects actual files in `.github/actions/dcat-validate/scripts/`.

| Script | Language | Called by | Responsibility |
|---|---|---|---|
| `TBD` | `TBD` | `dcat-validate` | Validate DCAT outputs under `data/catalog/dcat/` |

## ğŸ§  Story Node & Focus Mode Integration

- This directory does not directly author Story Nodes, but catalog correctness is a prerequisite for provenance-linked storytelling.
- If a script emits any derived evidence artifacts, ensure they are traceable (IDs, paths) and compatible with catalog + provenance conventions (profile-defined; not confirmed in repo).

## ğŸ§ª Validation & CI/CD

### Validation steps

- [ ] Markdown protocol checks (this README)
- [ ] Schema validation (STAC/DCAT/PROV) where applicable
- [ ] Link integrity checks for DCAT distributions/assets (if enabled)
- [ ] Security and sovereignty checks (as applicable)

### Reproduction

~~~bash
# Example placeholders â€” replace with repo-specific commands

# 1) Run a script locally (from repo root)
# python .github/actions/dcat-validate/scripts/<script>.py --help

# 2) Validate a DCAT directory (example)
# python .github/actions/dcat-validate/scripts/<script>.py --input data/catalog/dcat/

# 3) Point at a schema bundle if used
# python .github/actions/dcat-validate/scripts/<script>.py --input data/catalog/dcat/ --schema schemas/<dcat-schema>.json
~~~

### Telemetry signals (if applicable)

| Signal | Source | Where recorded |
|---|---|---|
| TBD | TBD | `docs/telemetry/` + `schemas/telemetry/` |

## âš– FAIR+CARE & Governance

### Governance review triggers

- New sensitive layers
- New AI narrative behaviors
- New external data sources
- New public-facing endpoints

### Sovereignty safety

- Document redaction/generalization rules for any restricted locations.

### AI usage constraints

- Ensure this docâ€™s AI permissions/prohibitions match intended use.
- Do not embed unsourced narrative or infer sensitive locations.

## ğŸ•°ï¸ Version History

| Version | Date | Summary | Author |
|---|---|---|---|
| v1.0.0 | 2025-12-22 | Initial README for dcat-validate scripts directory | TBD |

---

Footer refs:
- Governance: `docs/governance/ROOT_GOVERNANCE.md`
- Ethics: `docs/governance/ETHICS.md`
- Sovereignty: `docs/governance/SOVEREIGNTY.md`
