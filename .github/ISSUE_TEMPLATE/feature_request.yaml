name: "üí° Feature Request"
description: "Propose a feature or enhancement ‚Äî documented, versioned, and reproducible"
title: "[Feature]: <feature name> ‚Äî <component/domain>"
labels:
  - enhancement
  - needs-triage
assignees:
  - kfm-architecture
  - kfm-data

# KFM metadata
# version: v2.3.0
# last_updated: 2025-10-15
# owners: @kfm-architecture @kfm-data

body:
  - type: markdown
    attributes:
      value: |
        ## üí° Feature Overview
        *‚ÄúEvery Feature Builds the Future ¬∑ Every Change is Reproducible.‚Äù*

  - type: input
    id: feature_name
    attributes:
      label: Feature Name
      placeholder: "Slope Classification Enhancement for Terrain Pipeline"
    validations:
      required: true

  - type: input
    id: related_component
    attributes:
      label: Primary Component / Module
      placeholder: "terrain_pipeline.py | graph_ingest.py | stac-validate.yml | web/config/layers.json"
    validations:
      required: true

  - type: dropdown
    id: domain
    attributes:
      label: Domain / Area of Impact
      options:
        - Terrain
        - Hydrology
        - Climate
        - Hazards
        - Landcover
        - Knowledge Graph
        - Web UI
        - API
        - Text / AI / NLP
        - Metadata / Governance
        - CI/CD
        - Other
    validations:
      required: true

  - type: input
    id: owner_team
    attributes:
      label: Primary Owner / Team
      placeholder: "@kfm-architecture ¬∑ @kfm-data ¬∑ @kfm-web"
    validations:
      required: true

  - type: markdown
    attributes:
      value: "## üåê Design Provenance"

  - type: textarea
    id: provenance
    attributes:
      label: Design References & Rationale
      description: "Link ADRs/SOPs/specs, cite standards, include brief rationale with quotes/screens if applicable"
      placeholder: |
        - ADR: /docs/adr/0007-slope-classification.md (summary: why/alternatives/decision)
        - SOP: /docs/sop/terrain_pipeline.md#slope
        - Standards: STAC 1.0.x extension property, OWL-Time, CIDOC CRM tag(s)
        - Rationale: why this change now, rejected options, alignment with roadmap
    validations:
      required: true

  - type: dropdown
    id: integration_scope
    attributes:
      label: Integration Scope
      options:
        - Backend (ETL / AI / Graph)
        - Frontend (Map / Timeline / UI)
        - Cross-Layer (Full-stack)
        - Infrastructure (CI/CD / Deployment)
        - Documentation / SOP
    validations:
      required: true

  - type: textarea
    id: artifacts
    attributes:
      label: Artifacts / Outputs
      placeholder: ".py, .yml, .json, .md, .cog.tif, GeoJSON, OpenAPI/Schema changes"
    validations:
      required: true

  - type: input
    id: interfaces
    attributes:
      label: Interfaces / Contracts
      placeholder: "Function signatures, API routes, CLI flags, config keys; any breaking/behavioral changes"
    validations:
      required: true

  - type: dropdown
    id: release_cadence
    attributes:
      label: Release Cadence
      options:
        - Static/One-off
        - Irregular/On-Demand
        - Quarterly
        - Monthly
        - Weekly
        - Daily
    validations:
      required: true

  - type: textarea
    id: quality
    attributes:
      label: QA Strategy / References
      placeholder: "Unit/integration tests, golden datasets, regression criteria, perf thresholds; link to test plan"

  - type: markdown
    attributes:
      value: "## üåü Motivation & Current Limitation"

  - type: textarea
    id: motivation
    attributes:
      label: Motivation / Use Case
      placeholder: "Explain the problem this feature solves and who benefits (users, pipelines, governance)."
    validations:
      required: true

  - type: textarea
    id: limitation
    attributes:
      label: Current Limitation
      placeholder: "Describe the gap, constraints, or pain points in current behavior or architecture."
    validations:
      required: true

  - type: markdown
    attributes:
      value: "## ‚öôÔ∏è Proposed Implementation"

  - type: textarea
    id: proposal
    attributes:
      label: Implementation Plan (Technical)
      description: "Include technical specifics, workflow changes, architecture impacts, and rollout."
      placeholder: |
        - Extend terrain_pipeline.py with --add-slope-classification
        - Generate slope class COG and add STAC property slope_class_version
        - Add layers.json entry with gradient style
        - Update ADR/SOP; add unit/integration tests; validate STAC; perf gate
    validations:
      required: true

  - type: checkboxes
    id: change_type
    attributes:
      label: Change Type(s)
      options:
        - label: Add new module/component
        - label: Modify ETL pipeline step
        - label: Extend STAC metadata/schema
        - label: Create new visualization layer
        - label: Update documentation / SOP
        - label: Other (describe in proposal)

  - type: markdown
    attributes:
      value: "## üßÆ Expected Outcome / Metrics"

  - type: textarea
    id: expected_outcome
    attributes:
      label: Expected Outcome / Metrics
      placeholder: |
        | Metric          | Target                                        |
        | :-------------- | :---------------------------------------------|
        | Data Quality    | slope_class attribute present; STAC fields updated |
        | Reproducibility | Deterministic outputs; SOP updated            |
        | Usability       | Map layer toggle + legend                     |
        | Performance     | < +5% runtime impact                          |
    validations:
      required: true
