name: "Community â€” Greetings"

on:
  issues:
    types: [opened]
  pull_request_target:
    types: [opened]
  workflow_dispatch:

permissions:
  contents: read
  issues: write
  pull-requests: write

concurrency:
  group: greetings-${{ github.workflow }}-${{ github.ref }}
  cancel-in-progress: false

jobs:
  greet:
    name: Send first-time contributor greetings
    runs-on: ubuntu-latest
    timeout-minutes: 5
    # Skip common bots; extend as needed
    if: >
      github.actor != 'dependabot[bot]' &&
      github.actor != 'github-actions[bot]' &&
      github.actor != 'renovate[bot]'

    steps:
      # NOTE: No checkout â€” we never run untrusted repo code for this workflow.
      - name: Send greeting
        uses: actions/first-interaction@v1
        with:
          repo-token: ${{ secrets.GITHUB_TOKEN }}

          # First-time issue message
          issue-message: |
            ğŸ‘‹ Welcome to **Kansas-Frontier-Matrix**!

            Thanks for opening your first issue. A few helpful links to get you oriented:
            - ğŸ§­ [CONTRIBUTING](./CONTRIBUTING.md)
            - ğŸ—ºï¸ Roadmap & labels: [.github/roadmap/](./.github/roadmap/)  
            - âœ… PR hygiene & CI hints: [.github/workflows/](./.github/workflows/)

            Feel free to apply `discussion` or `help wanted` labels to guide triage. Weâ€™ll review shortly â€” thanks again!

          # First-time PR message
          pr-message: |
            ğŸ‰ Thanks for your first pull request to **Kansas-Frontier-Matrix**!

            Heads-up on our checks:
            - ğŸ” STAC validation & metadata hygiene
            - ğŸ§ª Tests/lint (Python & web)
            - ğŸ”’ Security (Scorecard/CodeQL)
            - ğŸ§­ Docs & link checks

            Tips:
            - Include a brief **context** and **before/after** in your PR description.
            - If youâ€™re touching data/config, mention any **repro steps** (Makefile targets, scripts).

            A maintainer will review and provide feedback soon â€” appreciate your contribution! ğŸš€
