# ü§ñ Dependabot Config v2 (GitHub Actions) üîÑ

<p align="left">
  <a href="#-recommended-githubdependabotyml"><img alt="Dependabot" src="https://img.shields.io/badge/dependabot-enabled-238636" /></a>
  <a href="#-behavior-summary"><img alt="Cadence" src="https://img.shields.io/badge/cadence-weekly-1f6feb" /></a>
  <a href="#-grouping-strategy--pr-noise-control"><img alt="Grouping" src="https://img.shields.io/badge/prs-grouped-7c3aed" /></a>
  <a href="#-kfm-supply-chain--governance-overlays"><img alt="Supply Chain" src="https://img.shields.io/badge/supply--chain-guarded-critical" /></a>
  <a href="#-kfm-review-policy-for-dependabot-prs"><img alt="Review" src="https://img.shields.io/badge/review-risk--tiered-111827" /></a>
</p>

> ‚úÖ **Goal:** keep GitHub Actions dependencies fresh **weekly**, while keeping PR noise low with **grouping** + a short **major-version cooldown**.  
> üåæ **KFM twist:** workflow dependencies are part of the *toolchain* ‚Üí toolchain changes must remain **auditable**, **deterministic**, and **supply-chain-aware**.

> [!IMPORTANT]
> üß± **KFM pipeline rule (still applies):** dependency updates are ‚Äúbuild system changes.‚Äù  
> If a workflow update can change catalog artifacts, simulation outputs, or evidence bundles ‚Üí treat it like a governed change (tests + provenance).

---

## üìå Quick links

- [üßæ Doc metadata](#-doc-metadata)
- [üìÅ Where this lives](#-where-this-lives)
- [‚úÖ Recommended `.github/dependabot.yml`](#-recommended-githubdependabotyml)
- [üß† Behavior summary](#-behavior-summary)
- [üß© Grouping strategy](#-grouping-strategy--pr-noise-control)
- [üõ°Ô∏è KFM supply-chain & governance overlays](#-kfm-supply-chain--governance-overlays)
- [üßë‚Äç‚öñÔ∏è KFM review policy for Dependabot PRs](#-kfm-review-policy-for-dependabot-prs)
- [üßØ Troubleshooting](#-troubleshooting)
- [üß∞ Optional upgrades](#-optional-upgrades)
- [üìö Project reference library ‚Üí dependency policy map](#-project-reference-library--dependency-policy-map-uses-all-project-files)

---

## üßæ Doc metadata

| Field | Value |
|---|---|
| Doc | `docs/dependabot/README.md` *(or keep next to config, e.g. `.github/DEPENDABOT.md`)* |
| Config file | `.github/dependabot.yml` |
| Status | Active ‚úÖ |
| Last updated | **2026-01-09** |
| Scope | **GitHub Actions** dependency updates (workflows + composite actions) |
| Design stance | üõ°Ô∏è Supply-chain-aware + üß™ deterministic CI first |

---

## üìÅ Where this lives

- Folder: `üìÇ .github/`
- File: `üìÑ dependabot.yml`

Suggested tree:

```text
üìÅ .github/
‚îú‚îÄ‚îÄ üìÑ dependabot.yml
‚îî‚îÄ‚îÄ üìÅ workflows/
    ‚îú‚îÄ‚îÄ üìÑ ci.yml
    ‚îú‚îÄ‚îÄ üìÑ security.yml
    ‚îî‚îÄ‚îÄ üìÑ release.yml
```

---

## ‚úÖ Recommended `.github/dependabot.yml`

> [!NOTE]
> üß∑ **Tip:** quote the branch separator (`"-"`) so YAML never interprets it like a list marker.  
> üóìÔ∏è **Timezone:** keep `UTC` for predictability, or switch to `America/Chicago` if you want Kansas-local Mondays.

```yaml
version: 2

updates:
  # ü§ñ GitHub Actions dependencies referenced in:
  # - .github/workflows/**.yml
  # - action.yml/action.yaml at repo root (if you publish actions)
  - package-ecosystem: "github-actions"
    directory: "/"
    schedule:
      interval: "weekly"
      day: "monday"
      time: "05:00"
      timezone: "UTC"

    # Keep PR volume bounded (security updates have their own behavior).
    open-pull-requests-limit: 5

    # Keep titles stable and searchable (avoid `deps(deps): ...`).
    commit-message:
      prefix: "deps"

    # Avoid "/" separators in branch names for maximum tooling compatibility.
    pull-request-branch-name:
      separator: "-"

    # Add labels to help triage & routing (create these labels in the repo).
    labels:
      - "dependencies"
      - "deps:github-actions"
      - "kfm:ci"

    # üß© Group minor+patch updates into fewer PRs; majors remain individual PRs for explicit review.
    # Split first-party Actions (GitHub orgs) from third-party Actions to reduce review blast-radius.
    #
    # ‚ö†Ô∏è Group order matters: first match wins.
    groups:
      gha-first-party-minor-patch:
        patterns:
          - "actions/*"
          - "github/*"
        update-types:
          - "minor"
          - "patch"

      gha-third-party-minor-patch:
        patterns:
          - "*"
        exclude-patterns:
          - "actions/*"
          - "github/*"
        update-types:
          - "minor"
          - "patch"

      # If Dependabot Security Updates are enabled, group Actions security fixes too.
      gha-first-party-security:
        applies-to: "security-updates"
        patterns:
          - "actions/*"
          - "github/*"

      gha-third-party-security:
        applies-to: "security-updates"
        patterns:
          - "*"
        exclude-patterns:
          - "actions/*"
          - "github/*"

    # ‚è≥ Short major-release cooldown to avoid churn from just-published majors.
    # Note: cooldown applies only to version updates (not security updates).
    cooldown:
      semver-major-days: 7

      # Optional (uncomment if you want to avoid "just shipped" minors/patches too):
      # semver-minor-days: 2
      # semver-patch-days: 1
```

---

## üß† Behavior summary

- ‚úÖ **Weekly cadence** (Mondays @ 05:00 UTC)
- ‚úÖ **Minor + patch** updates are grouped into **2 PR streams**:
  - üß© first-party Actions (`actions/*`, `github/*`)
  - üåç third-party Actions (everything else)
- ‚úÖ **Major** updates stay **individual PRs** (easier review + safer)
- ‚úÖ **Major cooldown** waits **7 days** before proposing brand-new major releases
- ‚úÖ **Security update grouping** mirrors the same split *(if security updates are enabled in repo settings)*

---

## üß© Grouping strategy & PR noise control

### Why two streams? üéõÔ∏è
- **First-party** actions are usually lower risk & well-supported (still review!)
- **Third-party** actions are a bigger supply-chain surface area ‚Üí isolate for easier scanning

### Extra ‚ÄúKFM-safe‚Äù optional groups üßØ *(only if you need them)*
If you see noisy churn from certain ecosystems/actions, add specialized groups *above* the broad third-party group:

```yaml
groups:
  gha-supply-chain-sensitive-minor-patch:
    patterns:
      - "sigstore/*"
      - "slsa-framework/*"
      - "anchore/*"
    update-types: ["minor", "patch"]

  gha-first-party-minor-patch:
    ...
  gha-third-party-minor-patch:
    ...
```

> [!TIP]
> Keep group count low. Two groups is usually plenty. Add more only when there‚Äôs clear pain.

---

## üõ°Ô∏è KFM supply-chain & governance overlays

KFM treats workflows as **critical infrastructure** (they touch secrets, build artifacts, and sometimes publish data).

### ‚úÖ Baseline hardening rules
- üîí Prefer pinning third-party actions to **full commit SHAs** (immutability)
- üßæ Treat action version bumps as toolchain changes ‚Üí require CI + deterministic checks
- üß™ Don‚Äôt let dependency update PRs silently change:
  - catalog generation (STAC/DCAT/PROV)
  - simulation/analysis job outputs
  - evidence bundle formats
- üß∑ Keep provenance: if a workflow participates in publishing, capture run metadata

### üß∞ Suggested CI gates for Dependabot PRs (repo-level)
- ‚úÖ unit/integration tests
- ‚úÖ ‚Äúpolicy as code‚Äù checks (governance guardrails)
- ‚úÖ artifact checks (SBOM / checksums / manifests) where relevant
- ‚úÖ dependency review / diff awareness (especially for third-party actions)

> [!IMPORTANT]
> **Don‚Äôt auto-merge everything.**  
> Auto-merge is reasonable only for low-risk updates *after* you have strong CI gates.

---

## üßë‚Äç‚öñÔ∏è KFM review policy for Dependabot PRs

Use a lightweight risk rubric so reviews stay fast **and** safe:

| PR type | Example | Risk | Merge guidance |
|---|---|---:|---|
| ‚úÖ First-party patch | `actions/*` patch | Low | Merge after CI ‚úÖ |
| ‚úÖ First-party minor | `actions/*` minor | Low‚ÄìMed | Merge after CI + skim changelog |
| ‚ö†Ô∏è Third-party patch/minor | `*/**` patch/minor | Med | Review action repo reputation + CI + policy gates |
| üõë Any major | major bump | High | Manual review + changelog + consider staged rollout |
| üö® Security update | advisory-driven | High urgency | Prioritize review; merge ASAP once validated |

> [!TIP]
> If the PR touches build/publish workflows: run the ‚Äúevidence pipeline smoke path‚Äù before merge (catalog validation + provenance presence).

---

## üßØ Troubleshooting

### Dependabot isn‚Äôt opening PRs
- ‚úÖ Confirm `.github/dependabot.yml` is on the default branch
- ‚úÖ Confirm workflows exist under `.github/workflows/`
- ‚úÖ Check repo **Security** settings: dependency graph / alerts / security updates

### Grouping isn‚Äôt behaving as expected
- Group order matters: **first match wins**  
- A dependency that matches multiple groups goes to the **first** group definition

### Actions in a monorepo aren‚Äôt updated correctly
- Prefer standard action version tag formats
- Avoid confusing tag naming patterns that block Dependabot‚Äôs update detection

---

## üß∞ Optional upgrades

<details>
<summary><strong>üß© Optional: Multi-ecosystem ‚Äúone PR per week‚Äù (Actions + Docker + Pip + NPM)</strong></summary>

> üéØ Use this if KFM becomes a true monorepo (API + UI + infra) and you want fewer ‚Äúdependency PRs‚Äù.

**Key idea:** define a `multi-ecosystem-groups` schedule, then assign ecosystems to it using `multi-ecosystem-group` + `patterns`.

```yaml
version: 2

multi-ecosystem-groups:
  kfm-weekly:
    schedule:
      interval: "weekly"
      day: "monday"
      time: "05:00"
      timezone: "UTC"
    labels:
      - "dependencies"
      - "kfm:weekly-batch"

updates:
  - package-ecosystem: "github-actions"
    directory: "/"
    patterns: ["*"]
    multi-ecosystem-group: "kfm-weekly"

  # Enable ONLY if these directories exist:
  # - package-ecosystem: "pip"
  #   directory: "/api"
  #   patterns: ["*"]
  #   multi-ecosystem-group: "kfm-weekly"
  #
  # - package-ecosystem: "npm"
  #   directory: "/web"
  #   patterns: ["*"]
  #   multi-ecosystem-group: "kfm-weekly"
  #
  # - package-ecosystem: "docker"
  #   directory: "/"
  #   patterns: ["*"]
  #   multi-ecosystem-group: "kfm-weekly"
```

</details>

<details>
<summary><strong>üßØ Optional: ‚ÄúFreeze majors‚Äù for specific actions</strong></summary>

If a specific action has repeated breaking majors, you can ignore major updates:

```yaml
ignore:
  - dependency-name: "some-org/some-action"
    update-types: ["version-update:semver-major"]
```

</details>

---

## üìö Project reference library ‚Üí dependency policy map (uses all project files)

> Requirement: this section maps **every project file** to a concrete dependency-management convention, review posture, or CI expectation.

<details>
<summary><strong>üß† Expand: Influence map (all project files)</strong></summary>

| Project file | What it changes in dependency update policy (practical impact) |
|---|---|
| `Kansas Frontier Matrix (KFM) ‚Äì Comprehensive Technical Documentation.docx` | Treat workflows as governed infrastructure; dependency updates require deterministic CI and must not bypass catalog/provenance gates |
| `Latest Ideas-1.docx` | Pushes ‚Äúpolicy-as-code‚Äù + supply-chain posture (SBOM, signing, provenance) ‚Üí Dependabot PRs must pass security gates and avoid surprise toolchain changes |
| `Data Spaces.pdf` | Reinforces ‚Äúpointer-over-payload‚Äù + access control: dependency updates must not weaken provenance pointers or data governance behaviors |
| `Introduction to Digital Humanism.pdf` | Human-centered accountability: dependency PRs should be reviewable, explainable, and not silently change user-facing semantics |
| `Principles of Biological Autonomy - book_9780262381833.pdf` | Systems thinking: avoid brittle coupling; prefer incremental, observable updates with feedback loops (CI metrics + rollback readiness) |
| `On the path to AI Law‚Äôs prophecies and the conceptual foundations of the machine learning age.pdf` | Audit readiness: workflow changes that affect ML outputs must preserve traceability (versioned tooling + logged configs) |
| `Cloud-Based Remote Sensing with Google Earth Engine-Fundamentals and Applications.pdf` | Remote-sensing pipelines must stay reproducible: workflow dependency changes require rerun of at least one reference export/QA path |
| `python-geospatial-analysis-cookbook.pdf` | Geospatial correctness: dependency bumps that touch CRS/geometry stacks require regression tests for transforms, SRID handling, and GeoJSON validity |
| `making-maps-a-visual-guide-to-map-design-for-gis.pdf` | Cartographic integrity: updates affecting rendering/tiles/quicklooks must be reviewed for ‚Äúmisleading map defaults‚Äù regressions |
| `Mobile Mapping_ Space, Cartography and the Digital - 9789048535217.pdf` | Offline/low-bandwidth sensitivity: dependency updates should not bloat artifacts or break caching/tiling strategies |
| `PostgreSQL Notes for Professionals - PostgreSQLNotesForProfessionals.pdf` | DB-related workflow updates must preserve migration/backup safety and avoid accidental query-cost explosions |
| `Scalable Data Management for Future Hardware.pdf` | Scale discipline: keep update cadence bounded; avoid PR storms; ensure CI is incremental + resource-aware |
| `concurrent-real-time-and-distributed-programming-in-java-threads-rtsj-and-rmi.pdf` | Concurrency hygiene: workflow/job runners must remain bounded; dependency updates should not introduce runaway parallelism |
| `ethical-hacking-and-countermeasures-secure-network-infrastructures.pdf` | Threat model posture: assume CI runners and actions are attack targets ‚Üí prefer least privilege + verified sources + careful review of third-party updates |
| `Gray Hat Python - Python Programming for Hackers and Reverse Engineers (2009).pdf` | Defensive mindset: treat all external tooling as potential adversary; avoid risky parsing/tool execution in CI without sandboxing |
| `compressed-image-file-formats-jpeg-png-gif-xbm-bmp.pdf` | Media pipeline safety: dependency bumps affecting image generation must preserve format correctness, size limits, and performance budgets |
| `webgl-programming-guide-interactive-3d-graphics-programming-with-webgl.pdf` | 3D pipeline posture: keep optional; dependency updates must not force heavy client requirements or unsafe loaders |
| `Spectral Geometry of Graphs.pdf` | Graph analytics updates must remain explainable & bounded; workflow updates should not silently change graph metrics semantics |
| `Scientific Modeling and Simulation_ A Comprehensive NASA-Grade Guide.pdf` | Simulation rigor: workflow/tooling changes require reproducibility checks (seed/version capture) and V&V-friendly logging |
| `Generalized Topology Optimization for Structural Design.pdf` | Optimization jobs require explicit objective/constraints provenance; toolchain updates must not alter results without traceability |
| `Understanding Statistics & Experimental Design.pdf` | Statistical validity: dependency changes affecting inference must not silently change assumptions; require diagnostics/regression checks |
| `graphical-data-analysis-with-r.pdf` | EDA outputs should remain stable/deterministic; dependency bumps that affect plotting/stats require ‚Äúgolden output‚Äù checks where feasible |
| `regression-analysis-with-python.pdf` | Regression workflows: dependency updates must preserve diagnostics and avoid metric drift without explanation |
| `Regression analysis using Python - slides-linear-regression.pdf` | Standardize regression reporting outputs; dependency updates must not break coefficient/metrics payload shapes |
| `think-bayes-bayesian-statistics-in-python.pdf` | Bayesian outputs must disclose priors and intervals; dependency updates must not change sampling defaults silently |
| `Deep Learning for Coders with fastai and PyTorch - Deep.Learning.for.Coders.with.fastai.and.PyTorchpdf` | ML supply chain posture: avoid training inside CI/API runtime; dependency updates require model-card-friendly artifact versioning |
| `responsive-web-design-with-html5-and-css3.pdf` | UI build tooling updates should preserve responsive budgets and avoid bundle-size explosions (especially if UI is part of this repo) |
| `A programming Books.pdf` | Contributor shelf: general engineering references; encourages language-agnostic, sustainable dependency practices |
| `B-C programming Books.pdf` | Contributor shelf |
| `D-E programming Books.pdf` | Contributor shelf |
| `F-H programming Books.pdf` | Contributor shelf |
| `I-L programming Books.pdf` | Contributor shelf |
| `M-N programming Books.pdf` | Contributor shelf |
| `O-R programming Books.pdf` | Contributor shelf |
| `S-T programming Books.pdf` | Contributor shelf |
| `U-X programming Books.pdf` | Contributor shelf |

</details>

---

<!--
Maintainers‚Äô TODOs ‚úÖ (keep or remove):
- Confirm repo labels exist: dependencies, deps:github-actions, kfm:ci
- Add CODEOWNERS for `.github/dependabot.yml` and `.github/workflows/**`
- Add CI: dependency/policy gates for Dependabot PRs (especially third-party Actions)
- Consider pinning third-party actions to full commit SHAs across workflows
- Optionally adopt multi-ecosystem groups if/when KFM becomes a true monorepo
-->
