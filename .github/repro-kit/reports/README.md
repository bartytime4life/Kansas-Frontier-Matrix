---
title: "KFM Repro Kit ‚Äî Reports"
path: ".github/repro-kit/reports/README.md"
version: "v1.0.0"
last_updated: "2025-12-29"
status: "draft"
doc_kind: "Guide"
license: "CC-BY-4.0"

markdown_protocol_version: "KFM-MDP v11.2.6"
mcp_version: "MCP-DL v6.3"
ontology_protocol_version: "KFM-ONTO v4.1.0"
pipeline_contract_version: "KFM-PPC v11.0.0"
stac_profile: "KFM-STAC v11.0.0"
dcat_profile: "KFM-DCAT v11.0.0"
prov_profile: "KFM-PROV v11.0.0"

governance_ref: "docs/governance/ROOT_GOVERNANCE.md"
ethics_ref: "docs/governance/ETHICS.md"
sovereignty_policy: "docs/governance/SOVEREIGNTY.md"
fair_category: "FAIR+CARE"
care_label: "TBD"
sensitivity: "public"
classification: "open"
jurisdiction: "US-KS"

doc_uuid: "urn:kfm:doc:github:repro-kit-reports-readme:v1.0.0"
semantic_document_id: "kfm-github-repro-kit-reports-readme-v1.0.0"
event_source_id: "ledger:kfm:doc:github:repro-kit-reports-readme:v1.0.0"
commit_sha: "<latest-commit-hash>"

ai_transform_permissions: [ "summarize", "structure_extract", "translate", "keyword_index" ]
ai_transform_prohibited: [ "generate_policy", "infer_sensitive_locations" ]

doc_integrity_checksum: "sha256:<calculate-and-fill>"
---

# KFM Repro Kit ‚Äî Reports

## üìò Overview

### Purpose

This directory documents (and optionally houses) **reproducibility + validation reports** generated by:
- GitHub Actions / CI gates, and/or
- local repro-kit scripts that mirror CI checks.

Reports exist to make PR review repeatable: a reviewer should be able to answer ‚Äúwhat ran?‚Äù, ‚Äúwhat changed?‚Äù, and ‚Äúcan we reproduce it?‚Äù without guessing.

### Scope

| In scope | Out of scope |
|---|---|
| Human-readable summaries of CI-equivalent checks (schemas, contracts, integrity, security gates) | Storing secrets, credentials, tokens, or privileged logs |
| Machine-readable report outputs (JSON/SARIF/etc.) when safe and useful | Committing large raw datasets or restricted artifacts |
| Hash / checksum comparisons for deterministic or statistically reproducible runs | Defining new governance policy (belongs under `docs/governance/`) |

### Audience

- Maintainers/reviewers who need reproducibility evidence at PR time
- Contributors adding or changing pipelines, schemas, graph ingest, APIs, UI, or Story Nodes
- CI maintainers standardizing report artifacts across workflows

### Definitions (link to glossary)

- Link: `docs/glossary.md` *(not confirmed in repo; recommended)*

- **Report**: a portable record of checks executed + results + pointers to evidence artifacts.
- **Run ID**: identifier that ties a report to a reproducible execution (commit SHA + workflow run metadata or local run metadata).
- **Deterministic**: same inputs + config + code revision ‚áí same outputs (byte-for-byte when practical).
- **Statistically reproducible**: when byte-for-byte is not practical (e.g., floating point/HW variation), results match within defined tolerances; report must record tolerances and observed deltas.
- **Evidence pointer**: a stable reference to cataloged artifacts (STAC/DCAT/PROV IDs) rather than embedding bulky payloads.

### Key artifacts (what this doc points to)

| Artifact | Path / Identifier | Owner | Notes |
|---|---|---|---|
| Repro kit root README | `.github/repro-kit/README.md` | CI/Maintainers | Entry point and philosophy |
| Master Guide (pipeline + invariants) | `docs/MASTER_GUIDE_v12.md` | TBD | Canonical pipeline + CI gates |
| Universal doc template | `docs/templates/TEMPLATE__KFM_UNIVERSAL_DOC.md` | Docs | Structure + front-matter |
| Ingestion architecture | `docs/architecture/KFM_INGEST_ARCHITECTURE.md` | Data/Architecture | Deterministic ETL expectations |
| STAC/DCAT/PROV outputs | `data/stac/` ¬∑ `data/catalog/dcat/` ¬∑ `data/prov/` | Data Eng | Boundary artifacts |
| MCP runs (if used) | `mcp/runs/` | Research/Eng | Experiments, run logs, model cards |

### Definition of done (for this document)

- [ ] Front-matter complete + valid
- [ ] Report types mapped to CI gates (and to pipeline stages)
- [ ] Naming + minimal metadata requirements documented
- [ ] Security / sovereignty rules for reports are explicit (no leakage)
- [ ] This README is updated when a new report kind is added

## üóÇÔ∏è Directory Layout

### This document

- `path`: `.github/repro-kit/reports/README.md` *(must match front-matter)*

### Related repository paths

| Area | Path | What lives here |
|---|---|---|
| CI / policy gates | `.github/` | Workflows + checks + scanning |
| Pipelines | `src/pipelines/` | ETL + catalog generation code |
| Catalogs | `data/stac/` ¬∑ `data/catalog/dcat/` ¬∑ `data/prov/` | Published metadata + lineage |
| Graph | `src/graph/` | Ontology bindings + graph build/migrations |
| API boundary | `src/server/` | REST/GraphQL + contracts + redaction logic |
| UI | `web/` | React + MapLibre + Focus Mode |
| Tests | `tests/` | Unit + integration tests |
| Tools | `tools/` | Validators, utilities, QA scripts |
| MCP | `mcp/` | Experiments, runs, SOPs |

### Expected file tree for this sub-area

> This is the recommended structure. Some directories may not exist yet (**not confirmed in repo**).

~~~text
üìÅ .github/
‚îî‚îÄ‚îÄ üìÅ repro-kit/
    ‚îú‚îÄ‚îÄ üìÑ README.md
    ‚îî‚îÄ‚îÄ üìÅ reports/
        ‚îú‚îÄ‚îÄ üìÑ README.md
        ‚îú‚îÄ‚îÄ üìÅ specs/                 # optional: report schemas / field specs (if governed)
        ‚îú‚îÄ‚îÄ üìÅ examples/              # optional: small, sanitized example reports
        ‚îú‚îÄ‚îÄ üìÅ local/                 # optional: developer-generated outputs (usually .gitignored)
        ‚îî‚îÄ‚îÄ üìÅ ci/                    # optional: CI-generated summaries (only if committed)
~~~

## üß≠ Context

### Why reports exist in KFM

KFM‚Äôs non-negotiable pipeline order is evidence-first: ETL outputs become catalog artifacts (STAC/DCAT/PROV) before they can affect the graph, API, UI, Story Nodes, or Focus Mode. Reports are the operational glue that proves those boundaries were respected and validated.

### Invariants (must not regress)

- No bypassing contracts: UI does not read the graph directly; access is mediated by the API boundary.
- Provenance-first: outputs referenced by UI/narrative must be traceable to cataloged artifacts (STAC/DCAT/PROV).
- Security + sovereignty: reports must not leak secrets, PII, or sensitive locations; no output may be less restricted than any upstream input in its lineage.

## üßæ Report kinds (aligned to CI gates)

The ‚Äúminimum CI gates‚Äù are commonly represented as the following report families. Exact tools and filenames may differ by workflow.

| Report kind | Pipeline stage(s) | What it answers | Typical format(s) |
|---|---|---|---|
| `markdown_protocol` | Docs / CI | Did governed markdown validate (front-matter, required sections, links)? | `md`, `json` |
| `catalog_schema_validation` | Catalogs / CI | Do STAC/DCAT/PROV files validate against governed schemas? | `md`, `json` |
| `graph_integrity` | Graph / CI | Are graph constraints/labels/edges consistent on fixture loads? | `md`, `json` |
| `api_contract` | API / CI | Did OpenAPI/GraphQL + resolver tests pass? | `md`, `json` |
| `ui_registry_validation` | UI / CI | Did UI registry schemas (if present) validate? | `md`, `json` |
| `security_sovereignty_scan` | CI (cross-cutting) | Did secret/PII/sensitive-location/classification propagation scans pass? | `md`, `sarif`, `json` |
| `hash_comparison` | ETL/Catalogs (cross-cutting) | Are outputs deterministic (or within tolerance) vs expected baselines? | `md`, `json` |

> Note: If your workflow emits additional specialized reports (e.g., OCR confidence summaries, uncertainty quantification), treat them as evidence artifacts: define fields, record parameters, and link back to PROV.

## üß© Minimal metadata (required for every report)

Every report (regardless of file format) should include, at minimum:

- `report_id`: stable identifier for the report artifact
- `report_kind`: one of the governed kinds (or a documented extension)
- `generated_at`: ISO date-time
- `commit_sha`: the code revision tested
- `run_id`: CI run identifier or local run identifier
- `scope`: what domain/module/path set was validated
- `status`: pass/fail + exit code (where applicable)
- `inputs`: pointers (and checksums where possible) to inputs used
- `outputs`: pointers to generated artifacts (or where they are stored)
- `provenance_refs`: PROV bundle IDs or paths when applicable

### Recommended ‚Äúreport header‚Äù for Markdown reports

~~~yaml
report_id: "urn:kfm:report:<kind>:<run_id>:<scope>:<ts>"
report_kind: "<one-of: markdown_protocol|catalog_schema_validation|...>"
generated_at: "YYYY-MM-DDTHH:MM:SSZ"
commit_sha: "<git sha>"
run_id: "<ci run id or local run id>"
scope:
  paths:
    - "data/stac/"
    - "schemas/"
status:
  outcome: "pass|fail"
  exit_code: 0
provenance_refs:
  - "data/prov/<bundle>.json"
artifacts:
  - path: "<path-or-artifact-uri>"
    sha256: "<optional>"
~~~

## üè∑Ô∏è Naming & storage conventions

### Naming (recommended)

Use a sortable, grep-friendly convention:

~~~text
YYYYMMDDTHHMMSSZ__<run_id>__<report_kind>__<scope_slug>.<ext>
~~~

Examples:

~~~text
20251229T211500Z__gh-123456789__catalog_schema_validation__stac-all.md
20251229T211500Z__local-ryzen9__hash_comparison__soils-sda.json
~~~

### Where reports should live

- CI artifacts are often best stored as **workflow artifacts** (not committed), with only **small sanitized examples** committed under `examples/`.
- If the repo chooses to commit certain reports (e.g., release baselines), keep them:
  - small,
  - non-sensitive,
  - provenance-linked, and
  - clearly versioned.

If you need long-lived run logs, prefer linking from reports to `mcp/runs/<run_id>/` (if used) rather than embedding large logs here.

## üó∫Ô∏è Diagrams

### How reports fit the canonical pipeline

~~~mermaid
flowchart LR
  A["ETL"] --> B["STAC/DCAT/PROV"]
  B --> C["Graph"]
  C --> D["API"]
  D --> E["UI"]
  E --> F["Story Nodes"]
  F --> G["Focus Mode"]

  subgraph R["Repro Reports (this folder)"]
    R1["Validation summaries"]
    R2["Hash comparisons"]
    R3["Security/sovereignty scans"]
  end

  R1 -.evidence of gates.-> B
  R1 -.evidence of gates.-> C
  R1 -.evidence of gates.-> D
  R1 -.evidence of gates.-> E
  R2 -.determinism proof.-> A
  R3 -.safety proof.-> D
~~~

## üß™ Validation & CI/CD

### Mapping reports to minimum gates

When a workflow claims to be ‚Äúv12-ready,‚Äù it should usually be able to produce (or link to) reports covering:

- Markdown protocol validation
- Link/reference checks
- JSON schema validation (STAC/DCAT/PROV, and any story/ui/telemetry schemas if present)
- Graph integrity tests
- API contract tests
- Security + sovereignty scanning gates

### Adding a new report kind (checklist)

- [ ] Define the report kind name and purpose (and update the table above)
- [ ] Document minimal required fields + example payload
- [ ] Ensure the report links to:
  - inputs (paths + checksums),
  - outputs (paths + checksums),
  - provenance (PROV bundle pointers) when applicable
- [ ] Confirm it does not leak secrets/PII/sensitive locations
- [ ] Update CI workflows and/or repro-kit scripts to emit it consistently

## ‚öñ FAIR+CARE & Governance

### Safety rules for reports

- Never include secrets, credentials, access tokens, or raw restricted data.
- If a report references a restricted dataset, the report should store only:
  - a stable dataset identifier,
  - redaction/generalization method notes (if applicable),
  - and an access-controlled pointer (not the content).
- If the report could reveal sensitive locations (even indirectly), it must be redacted and governance-reviewed before committing.

### Governance review triggers

- New sensitive layers, or changes affecting sovereignty obligations
- New AI narrative behaviors or automated summarization presented as ‚Äúfact‚Äù
- New external data sources requiring license/provenance review
- New public-facing endpoints or UI interactions that could reveal sensitive locations
- Any classification/sensitivity change or publication derived from restricted inputs

## üï∞Ô∏è Version History

| Version | Date | Summary | Author |
|---|---|---|---|
| v1.0.0 | 2025-12-29 | Initial README for reproducibility/validation reports directory | TBD |

---

Footer refs:
- Repro kit root: `.github/repro-kit/README.md`
- Master Guide: `docs/MASTER_GUIDE_v12.md`
- Universal template: `docs/templates/TEMPLATE__KFM_UNIVERSAL_DOC.md`
- Governance: `docs/governance/ROOT_GOVERNANCE.md`
- Ethics: `docs/governance/ETHICS.md`
- Sovereignty: `docs/governance/SOVEREIGNTY.md`
