# Kansas Frontier Matrix (KFM) &nbsp; ![License](https://img.shields.io/badge/License-MIT-blue.svg) ![Build](https://img.shields.io/badge/build-passing-brightgreen.svg) ![Last Commit](https://img.shields.io/github/last-commit/YourOrg/Kansas-Frontier-Matrix) [![Docs](https://img.shields.io/badge/docs-available-blue.svg)](docs/)

*Provenance‚Äëfirst historical GIS with AI assistance and immersive storytelling.*

**Kansas Frontier Matrix (KFM)** is a geospatial knowledge platform that integrates maps, data, historical narratives, and AI-assisted analysis within a **provenance-first** framework [oai_citation:0‚Ä°file_000000006dbc71f89a5094ce310a452d](file://file_000000006dbc71f89a5094ce310a452d#:~:text=The%20Kansas%20Frontier%20Matrix%20,serve%20%20as%20%20a). Every map layer, dataset, story, and even AI-generated answer in KFM is traceable back to original sources ‚Äì the ‚Äúmap behind the map‚Äù ‚Äì ensuring **transparency and trust** in all insights [oai_citation:1‚Ä°file_000000006dbc71f89a5094ce310a452d](file://file_000000006dbc71f89a5094ce310a452d#:~:text=data%2C%20historical%20narratives%2C%20and%20AI,This%20%20document%20%20merges). Designed for both developers and general users, KFM lets you explore Kansas‚Äôs frontier history through interactive 2D/3D maps, timeline-linked stories, and a smart **Focus Mode** AI assistant, all while rigorously tracking data lineage and citations [oai_citation:2‚Ä°file_000000006dbc71f89a5094ce310a452d](file://file_000000006dbc71f89a5094ce310a452d#:~:text=into%20trustworthy%2C%20explorable%20knowledge%20,references%20to%20its%20data%20sources). By coupling modern GIS technology with historical archives and AI, KFM provides a rich, explorable window into the past without compromising on accuracy or ethics.

## Core Features

- **üõ°Ô∏è Provenance & FAIR/CARE Governance:** KFM enforces a provenance-first design: nothing enters the system without documentation and source metadata [oai_citation:3‚Ä°file_000000006dbc71f89a5094ce310a452d](file://file_000000006dbc71f89a5094ce310a452d#:~:text=What%20KFM%20Is%3A%20At%20its,citations%2C%20and%20any%20AI%20answer). All datasets include detailed lineage (W3C PROV records) and adhere to **FAIR** (Findable, Accessible, Interoperable, Reusable) principles, while governance policies follow **CARE** guidelines (Collective Benefit, Authority to Control, Responsibility, Ethics) to ensure community control and ethical use of data [oai_citation:4‚Ä°file_000000006dbc71f89a5094ce310a452d](file://file_000000006dbc71f89a5094ce310a452d#:~:text=an%20%20ungoverned%20%20chatbot,respected%20in%20all%20operations). This means every map or analysis can be audited, and users‚Äô rights and privacy are respected by design.

- **ü§ñ Focus Mode AI Assistant (Ollama-powered):** A built-in AI assistant lets users query KFM‚Äôs knowledge in natural language ‚Äì *‚ÄúShow me all frontier-era schools in counties that had droughts‚Äù*, for example [oai_citation:5‚Ä°file_000000006dbc71f89a5094ce310a452d](file://file_000000006dbc71f89a5094ce310a452d#:~:text=AI%20Integration%3A%20A%20distinguishing%20feature,way%20that%20respects%20data%20governance). The **Focus Mode** AI is backed by a local large language model (LLM) running via **Ollama**, so queries are processed on-device without external API calls [oai_citation:6‚Ä°file_000000006dbc71f89a5094ce310a452d](file://file_000000006dbc71f89a5094ce310a452d#:~:text=gives%20,OSS%E2%80%9D%2C%20configured%20with%20knowledge%20of). The AI can only access data through approved APIs and **always cites its sources** for factual answers [oai_citation:7‚Ä°file_000000006dbc71f89a5094ce310a452d](file://file_000000006dbc71f89a5094ce310a452d#:~:text=grounded%20interactions,party%20AI%20services). This agentic assistant can perform multi-step reasoning (e.g. searching the database or geospatial context) and returns answers with clickable references into KFM‚Äôs maps and documents [oai_citation:8‚Ä°file_000000006dbc71f89a5094ce310a452d](file://file_000000006dbc71f89a5094ce310a452d#:~:text=access%20information%20via%20approved%20tools,might%20%20be%20%20a) [oai_citation:9‚Ä°file_000000006dbc71f89a5094ce310a452d](file://file_000000006dbc71f89a5094ce310a452d#:~:text=AI%20pipeline%20typically%20works%20as,processed%3A%20the%20system). It‚Äôs like having a historian + analyst built in, with privacy, accuracy, and transparency ensured by KFM‚Äôs rules.

- **üó∫Ô∏è Interactive 3D GIS:** KFM‚Äôs frontend is powered by **MapLibre GL JS** for interactive 2D web maps and **CesiumJS** for a full 3D globe experience [oai_citation:10‚Ä°file_000000006dbc71f89a5094ce310a452d](file://file_000000006dbc71f89a5094ce310a452d#:~:text=interactive%20map,can%20pan%2Fzoom%20around%20Kansas%2C%20toggle). You can seamlessly toggle between a classic map view and a 3D terrain view of Kansas. The 3D mode leverages Cesium‚Äôs globe and high-resolution elevation data, enabling features like virtual flyover tours and visualization of terrain effects (e.g. seeing a 3D floodplain or a historical battle site‚Äôs topography) [oai_citation:11‚Ä°file_000000006dbc71f89a5094ce310a452d](file://file_000000006dbc71f89a5094ce310a452d#:~:text=on%20the%20fly,visualizations%2C%20the%20UI%20includes%20timeline) [oai_citation:12‚Ä°file_000000006dbc71f89a5094ce310a452d](file://file_000000006dbc71f89a5094ce310a452d#:~:text=the%20backend%20,3D%20Tiles%20%E2%80%93%20which%20KFM). Maps are time-aware with a timeline slider, so you can pan/zoom the map, then switch to a 3D perspective to explore historical landscapes from any angle.

- **üìú Storytelling & Scrollytelling:** Beyond static maps, KFM includes an **interactive storytelling** system. Long-form historical narratives (called *Story Nodes*) are linked with the map, so as you scroll through a story, the map automatically updates to show the described locations and dates [oai_citation:13‚Ä°file_000000006dbc71f89a5094ce310a452d](file://file_000000006dbc71f89a5094ce310a452d#:~:text=IntersectionObserver,end%20likely%20includes%20smooth%20animated). This **scrollytelling** approach creates a cinematic experience: reading a paragraph can trigger the map to fly to a new location or fade in a new overlay with smooth animation [oai_citation:14‚Ä°file_000000006dbc71f89a5094ce310a452d](file://file_000000006dbc71f89a5094ce310a452d#:~:text=timeline%20actions%20accordingly.%20The%20front,the%20user%20hits%20play). Stories are accompanied by timelines, images, and even optional narration or ‚Äúplay tour‚Äù modes, making complex historical events engaging and easy to follow [oai_citation:15‚Ä°file_000000006dbc71f89a5094ce310a452d](file://file_000000006dbc71f89a5094ce310a452d#:~:text=timeline%20actions%20accordingly.%20The%20front,the%20user%20hits%20play). All story content is backed by cited data and can be explored further via the map or AI assistant.

- **üîÑ Reproducible Data Pipelines:** At KFM‚Äôs core is a robust ETL pipeline system that ingests raw historical data (spreadsheets, maps, documents) and transforms them into standardized, queryable datasets. All **pipelines are deterministic and reproducible**, meaning running the same pipeline on the same input will always produce the same output [oai_citation:16‚Ä°file_000000006dbc71f89a5094ce310a452d](file://file_000000006dbc71f89a5094ce310a452d#:~:text=Key%20guidelines%20and%20structure%20for,pipelines%2F). Processed data is version-controlled and accompanied by machine-readable metadata (STAC/DCAT) and provenance logs. The CI/CD pipeline **ensures every data addition includes documentation** ‚Äì if a contributor tries to add data without a metadata & provenance record, the build will fail [oai_citation:17‚Ä°file_000000006dbc71f89a5094ce310a452d](file://file_000000006dbc71f89a5094ce310a452d#:~:text=If%20a%20pipeline%20fails%20to,CI%20will%20likely%20reject%20the). This guarantees that any figure or map you see in KFM can be traced and regenerated from its original sources. Researchers and developers can trust that KFM‚Äôs analyses are repeatable and auditable, reinforcing scientific integrity.

## Installation

KFM is a **monorepo** that bundles the backend, frontend, data, and AI components, making deployment relatively straightforward. You can set up KFM using Docker for an all-in-one approach, or install each component manually:

### Quick Start (Docker Compose)

1. **Prerequisites:** Install **Docker** and **Docker Compose** on your system [oai_citation:18‚Ä°file_000000006dbc71f89a5094ce310a452d](file://file_000000006dbc71f89a5094ce310a452d#:~:text=a%20consistent%20stack%20without%20manually,installing%20databases%20or%20dependencies). Ensure you have at least a few GB of RAM available for the containers (PostGIS, Neo4j, etc.).
2. **Clone the Repository:** Download the code from GitHub:  
   ```bash
   git clone https://github.com/YourOrg/Kansas-Frontier-Matrix.git
   cd Kansas-Frontier-Matrix