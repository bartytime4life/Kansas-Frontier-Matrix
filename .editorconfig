# EditorConfig is awesome: https://editorconfig.org
#
# Kansas Frontier Matrix (KFM) â€” repository formatting baseline (governed)
# - Keep editors consistent across OSes and IDEs
# - Language-specific overrides follow community norms
# - Lint/formatter tools (Prettier, gofmt, black, etc.) still win for final formatting
# - Docs are production inputs: preserve Markdown semantics (intentional trailing spaces)
#
# NOTE: root=true stops EditorConfig from searching parent directories.
root = true

[*]
charset = utf-8
end_of_line = lf
insert_final_newline = true
trim_trailing_whitespace = true

# Default indentation (overridden per-language below)
indent_style = space
indent_size = 2

# Not all editors honor this, but it's harmless and helpful where supported.
max_line_length = 100


# --- Docs / prose -------------------------------------------------------------

[*.{md,mdx,rst,adoc}]
# Markdown uses trailing spaces for hard line breaks; many docs also include deliberate whitespace.
trim_trailing_whitespace = false
max_line_length = off

[*.{diff,patch}]
trim_trailing_whitespace = false


# --- Web / config ------------------------------------------------------------

[*.{html,htm,css,scss,sass,less}]
indent_style = space
indent_size = 2

[*.{js,cjs,mjs,jsx,ts,cts,mts,tsx}]
indent_style = space
indent_size = 2

[*.{json,jsonc,json5}]
indent_style = space
indent_size = 2

[*.{yml,yaml}]
indent_style = space
indent_size = 2

[*.toml]
indent_style = space
indent_size = 2

[*.{graphql,gql}]
indent_style = space
indent_size = 2

[*.{proto,proto3}]
indent_style = space
indent_size = 2


# --- Infrastructure / policies / data contracts ------------------------------

[*.tf]
indent_style = space
indent_size = 2

[*.tfvars]
indent_style = space
indent_size = 2

[*.{rego,opa}]
indent_style = space
indent_size = 2

[*.cue]
indent_style = space
indent_size = 2

[*.{schema,jsonschema}]
indent_style = space
indent_size = 2

[*.{sql,psql}]
indent_style = space
indent_size = 2

[*.{csv,tsv}]
# Keep raw data files stable; do not trim trailing whitespace by default.
trim_trailing_whitespace = false
# line length is irrelevant for delimited data
max_line_length = off

[*.geojson]
indent_style = space
indent_size = 2

[*.ndjson]
indent_style = space
indent_size = 2
max_line_length = off


# --- Backends / general-purpose languages -----------------------------------

[*.py]
indent_style = space
indent_size = 4

[*.go]
# gofmt uses tabs for indentation; align editors with gofmt.
indent_style = tab
indent_size = 4

[*.rs]
indent_style = space
indent_size = 4

[*.{java,kt,kts}]
indent_style = space
indent_size = 4

[*.{c,cc,cpp,cxx,h,hh,hpp,hxx,cs}]
indent_style = space
indent_size = 4


# --- Shell / build -----------------------------------------------------------

[*.{sh,bash,zsh}]
indent_style = space
indent_size = 2

# Make requires tabs in recipe lines
[{Makefile,makefile,*.mk}]
indent_style = tab
indent_size = 4


# --- Windows scripts ---------------------------------------------------------

[*.{bat,cmd}]
end_of_line = crlf
